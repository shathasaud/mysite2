<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ألعاب الذكاء الاصطناعي التعليمية</title>
    <style>
        body {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .main-header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        .main-title {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .main-subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
        }

        .games-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            max-width: 1400px;
            width: 100%;
        }

        .game-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
        }

        .game-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
        }

        .game-card.ladder::before {
            background: linear-gradient(90deg, #667eea, #764ba2);
        }

        .game-card.speed::before {
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1);
        }

        .game-card.challenge::before {
            background: linear-gradient(90deg, #9f7aea, #667eea, #764ba2);
        }

        .game-card.quiz::before {
            background: linear-gradient(90deg, #f093fb, #f5576c, #4facfe);
        }

        .game-card.group::before {
            background: linear-gradient(90deg, #667eea, #764ba2, #f093fb);
        }

        .game-card.crossword::before {
            background: linear-gradient(90deg, #4facfe, #00f2fe, #667eea);
        }

        .game-card.truefalse::before {
            background: linear-gradient(90deg, #48bb78, #38a169, #68d391);
        }

        .game-card.buzz::before {
            background: linear-gradient(90deg, #ff6b6b, #ee5a52, #ff8a80);
        }

        .game-card.matching::before {
            background: linear-gradient(90deg, #667eea, #764ba2, #f093fb);
        }

        .game-card.quiz-solo::before {
            background: linear-gradient(90deg, #4facfe, #00f2fe, #667eea);
        }

        .game-icon {
            font-size: 4rem;
            text-align: center;
            margin-bottom: 20px;
        }

        .game-title {
            font-size: 2rem;
            font-weight: bold;
            color: #2d3748;
            text-align: center;
            margin-bottom: 15px;
        }

        .game-description {
            color: #718096;
            font-size: 1.1rem;
            text-align: center;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .game-features {
            list-style: none;
            padding: 0;
            margin-bottom: 25px;
        }

        .game-features li {
            padding: 8px 0;
            color: #4a5568;
            font-weight: 500;
        }

        .game-features li::before {
            content: '✓';
            color: #48bb78;
            font-weight: bold;
            margin-left: 10px;
        }

        .play-button {
            background: linear-gradient(145deg, #4299e1, #3182ce);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 15px 30px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
        }

        .play-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(66, 153, 225, 0.3);
        }

        .play-button.speed {
            background: linear-gradient(145deg, #e53e3e, #c53030);
        }

        .play-button.speed:hover {
            box-shadow: 0 8px 25px rgba(229, 62, 62, 0.3);
        }

        .play-button.challenge {
            background: linear-gradient(145deg, #9f7aea, #805ad5);
        }

        .play-button.challenge:hover {
            box-shadow: 0 8px 25px rgba(159, 122, 234, 0.3);
        }

        .play-button.quiz {
            background: linear-gradient(145deg, #f093fb, #f5576c);
        }

        .play-button.quiz:hover {
            box-shadow: 0 8px 25px rgba(240, 147, 251, 0.3);
        }

        .play-button.group {
            background: linear-gradient(145deg, #667eea, #764ba2);
        }

        .play-button.group:hover {
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .play-button.crossword {
            background: linear-gradient(145deg, #4facfe, #00f2fe);
        }

        .play-button.crossword:hover {
            box-shadow: 0 8px 25px rgba(79, 172, 254, 0.3);
        }

        .play-button.truefalse {
            background: linear-gradient(145deg, #48bb78, #38a169);
        }

        .play-button.truefalse:hover {
            box-shadow: 0 8px 25px rgba(72, 187, 120, 0.3);
        }

        .play-button.buzz {
            background: linear-gradient(145deg, #ff6b6b, #ee5a52);
        }

        .play-button.buzz:hover {
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
        }

        .play-button.matching {
            background: linear-gradient(145deg, #667eea, #764ba2);
        }

        .play-button.matching:hover {
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .play-button.quiz-solo {
            background: linear-gradient(145deg, #4facfe, #00f2fe);
        }

        .play-button.quiz-solo:hover {
            box-shadow: 0 8px 25px rgba(79, 172, 254, 0.3);
        }

        .game-content {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
        }

        .game-content.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .game-wrapper {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .close-button {
            position: absolute;
            top: 15px;
            left: 15px;
            background: #e53e3e;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .close-button:hover {
            background: #c53030;
            transform: scale(1.1);
        }

        /* أنماط لعبة السلم */
        .ladder-container {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            margin-bottom: 30px;
            direction: ltr;
        }

        .step {
            aspect-ratio: 1;
            border: 3px solid #e2e8f0;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            background: linear-gradient(145deg, #f7fafc, #edf2f7);
        }

        .step:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .step.current {
            background: linear-gradient(145deg, #ffd89b, #19547b);
            color: white;
            border-color: #f6ad55;
            animation: pulse 2s infinite;
        }

        .step.completed {
            background: linear-gradient(145deg, #48bb78, #38a169);
            color: white;
            border-color: #48bb78;
        }

        .step.failed {
            background: linear-gradient(145deg, #f56565, #e53e3e);
            color: white;
            border-color: #f56565;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .step-number {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .step-icon {
            font-size: 1.2rem;
        }

        .question-panel {
            background: linear-gradient(145deg, #f7fafc, #edf2f7);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border: 2px solid #e2e8f0;
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 20px;
            text-align: center;
            line-height: 1.6;
        }

        .answers-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .answer-btn {
            background: linear-gradient(145deg, #4299e1, #3182ce);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 15px 20px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .answer-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(66, 153, 225, 0.3);
        }

        .answer-btn.correct {
            background: linear-gradient(145deg, #48bb78, #38a169);
        }

        .answer-btn.incorrect {
            background: linear-gradient(145deg, #f56565, #e53e3e);
        }

        .score-panel {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(145deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .reset-btn {
            background: linear-gradient(145deg, #ed8936, #dd6b20);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 12px 24px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .reset-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(237, 137, 54, 0.3);
        }

        .feedback {
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
            margin: 15px 0;
            padding: 15px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .feedback.correct {
            background: linear-gradient(145deg, #c6f6d5, #9ae6b4);
            color: #22543d;
        }

        .feedback.incorrect {
            background: linear-gradient(145deg, #fed7d7, #feb2b2);
            color: #742a2a;
        }

        .feedback.timeout {
            background: linear-gradient(145deg, #feebc8, #fbd38d);
            color: #744210;
        }

        /* أنماط مسابقة السرعة */
        .timer-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 30px;
        }

        .timer {
            background: linear-gradient(145deg, #e53e3e, #c53030);
            color: white;
            font-size: 4rem;
            font-weight: bold;
            padding: 20px 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(229, 62, 62, 0.3);
            min-width: 150px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .timer.warning {
            background: linear-gradient(145deg, #ed8936, #dd6b20);
            animation: shake 0.5s infinite;
        }

        .timer.critical {
            background: linear-gradient(145deg, #e53e3e, #c53030);
            animation: criticalPulse 0.3s infinite;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        @keyframes criticalPulse {
            0%, 100% { transform: scale(1); box-shadow: 0 10px 30px rgba(229, 62, 62, 0.3); }
            50% { transform: scale(1.1); box-shadow: 0 15px 40px rgba(229, 62, 62, 0.6); }
        }

        .speed-score-panel {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        .score-item {
            background: linear-gradient(145deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .score-value {
            font-size: 2rem;
            display: block;
            margin-top: 5px;
        }

        .control-panel {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .control-btn {
            background: linear-gradient(145deg, #ed8936, #dd6b20);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(237, 137, 54, 0.4);
        }

        .control-btn.start {
            background: linear-gradient(145deg, #48bb78, #38a169);
            font-size: 1.3rem;
            padding: 20px 40px;
        }

        /* أنماط لعبة التحدي */
        .challenge-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }

        .challenge-card {
            background: linear-gradient(145deg, #f7fafc, #edf2f7);
            border-radius: 20px;
            padding: 25px;
            border: 3px solid #e2e8f0;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .challenge-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            border-color: #9f7aea;
        }

        .challenge-card.active {
            border-color: #9f7aea;
            background: linear-gradient(145deg, #faf5ff, #e9d8fd);
        }

        .challenge-number {
            position: absolute;
            top: 15px;
            right: 20px;
            background: linear-gradient(145deg, #9f7aea, #805ad5);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .challenge-question {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 20px;
            margin-top: 15px;
            line-height: 1.6;
        }

        .challenge-textarea {
            width: 100%;
            min-height: 120px;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1rem;
            font-family: inherit;
            resize: vertical;
            transition: all 0.3s ease;
            background: white;
        }

        .challenge-textarea:focus {
            outline: none;
            border-color: #9f7aea;
            box-shadow: 0 0 0 3px rgba(159, 122, 234, 0.1);
        }

        .challenge-textarea::placeholder {
            color: #a0aec0;
            font-style: italic;
        }

        .challenge-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .challenge-btn {
            background: linear-gradient(145deg, #9f7aea, #805ad5);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .challenge-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(159, 122, 234, 0.3);
        }

        .challenge-btn.secondary {
            background: linear-gradient(145deg, #718096, #4a5568);
        }

        .challenge-btn.secondary:hover {
            box-shadow: 0 8px 25px rgba(113, 128, 150, 0.3);
        }

        .progress-bar {
            background: #e2e8f0;
            height: 8px;
            border-radius: 4px;
            margin-bottom: 25px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #9f7aea, #667eea);
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* أنماط مسابقة أبطال الذكاء الاصطناعي */
        .quiz-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .teams-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .team-card {
            background: linear-gradient(145deg, #f7fafc, #edf2f7);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            border: 3px solid #e2e8f0;
            transition: all 0.3s ease;
            position: relative;
        }

        .team-card.team1 {
            border-color: #4299e1;
        }

        .team-card.team2 {
            border-color: #f093fb;
        }

        .team-card.active {
            transform: scale(1.05);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        .team-card.team1.active {
            background: linear-gradient(145deg, #ebf8ff, #bee3f8);
            border-color: #3182ce;
        }

        .team-card.team2.active {
            background: linear-gradient(145deg, #fef5e7, #fed7cc);
            border-color: #f5576c;
        }

        .team-name {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 15px;
        }

        .team-score {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .team-card.team1 .team-score {
            color: #3182ce;
        }

        .team-card.team2 .team-score {
            color: #f5576c;
        }

        .team-status {
            font-size: 1.1rem;
            font-weight: bold;
            padding: 8px 16px;
            border-radius: 20px;
            display: inline-block;
        }

        .team-card.team1 .team-status {
            background: #bee3f8;
            color: #2c5282;
        }

        .team-card.team2 .team-status {
            background: #fed7cc;
            color: #c53030;
        }

        .quiz-question-panel {
            background: linear-gradient(145deg, #f7fafc, #edf2f7);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            border: 3px solid #e2e8f0;
            text-align: center;
        }

        .quiz-question-text {
            font-size: 1.4rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .quiz-answers-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        .quiz-answer-btn {
            background: linear-gradient(145deg, #4299e1, #3182ce);
            color: white;
            border: none;
            border-radius: 15px;
            padding: 20px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .quiz-answer-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(66, 153, 225, 0.3);
        }

        .quiz-answer-btn.correct {
            background: linear-gradient(145deg, #48bb78, #38a169);
            animation: correctPulse 0.6s ease;
        }

        .quiz-answer-btn.incorrect {
            background: linear-gradient(145deg, #f56565, #e53e3e);
            animation: shake 0.5s ease;
        }

        .quiz-answer-btn.team1-selected {
            background: linear-gradient(145deg, #4299e1, #2b77cb);
            border: 3px solid #1a365d;
        }

        .quiz-answer-btn.team2-selected {
            background: linear-gradient(145deg, #f093fb, #e668aa);
            border: 3px solid #97266d;
        }

        @keyframes correctPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .quiz-timer {
            background: linear-gradient(145deg, #ed8936, #dd6b20);
            color: white;
            font-size: 2.5rem;
            font-weight: bold;
            padding: 15px 30px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 25px;
            transition: all 0.3s ease;
        }

        .quiz-timer.warning {
            background: linear-gradient(145deg, #e53e3e, #c53030);
            animation: timerPulse 0.5s infinite;
        }

        @keyframes timerPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .quiz-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .quiz-control-btn {
            background: linear-gradient(145deg, #9f7aea, #805ad5);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(159, 122, 234, 0.3);
        }

        .quiz-control-btn.start {
            background: linear-gradient(145deg, #48bb78, #38a169);
            font-size: 1.3rem;
            padding: 20px 40px;
        }

        .quiz-control-btn.next {
            background: linear-gradient(145deg, #ed8936, #dd6b20);
        }

        .quiz-feedback {
            text-align: center;
            font-size: 1.3rem;
            font-weight: bold;
            margin: 20px 0;
            padding: 20px;
            border-radius: 15px;
            transition: all 0.3s ease;
        }

        .quiz-feedback.team1-correct {
            background: linear-gradient(145deg, #c6f6d5, #9ae6b4);
            color: #22543d;
        }

        .quiz-feedback.team2-correct {
            background: linear-gradient(145deg, #fed7d7, #feb2b2);
            color: #742a2a;
        }

        .quiz-feedback.timeout {
            background: linear-gradient(145deg, #feebc8, #fbd38d);
            color: #744210;
        }

        .true-false-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }

        .true-false-btn {
            background: linear-gradient(145deg, #4299e1, #3182ce);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 30px;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .true-false-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(66, 153, 225, 0.3);
        }

        .true-false-btn.true {
            background: linear-gradient(145deg, #48bb78, #38a169);
        }

        .true-false-btn.false {
            background: linear-gradient(145deg, #f56565, #e53e3e);
        }

        /* أنماط النشاط الجماعي */
        .group-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .group-stats {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-item {
            background: linear-gradient(145deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            font-weight: bold;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
        }

        .group-card-container {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }

        .group-card {
            background: linear-gradient(145deg, #f7fafc, #edf2f7);
            border-radius: 25px;
            padding: 40px;
            max-width: 600px;
            width: 100%;
            border: 4px solid #e2e8f0;
            position: relative;
            transition: all 0.3s ease;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .group-card.revealed {
            border-color: #667eea;
            background: linear-gradient(145deg, #ebf4ff, #dbeafe);
        }

        .card-type-badge {
            position: absolute;
            top: -10px;
            right: 20px;
            background: linear-gradient(145deg, #667eea, #764ba2);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 1rem;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .card-content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            margin-top: 20px;
        }

        .card-question {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2d3748;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .card-answer {
            font-size: 1.5rem;
            font-weight: bold;
            color: #667eea;
            background: linear-gradient(145deg, #ebf4ff, #dbeafe);
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            border: 2px solid #667eea;
            animation: slideIn 0.5s ease;
        }

        .card-icon {
            font-size: 4rem;
            margin: 20px 0;
            animation: bounceIn 0.6s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes bounceIn {
            0% { opacity: 0; transform: scale(0.3); }
            50% { opacity: 1; transform: scale(1.1); }
            100% { opacity: 1; transform: scale(1); }
        }

        .card-actions {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .card-action-btn {
            background: linear-gradient(145deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .card-action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .card-action-btn.reveal {
            background: linear-gradient(145deg, #48bb78, #38a169);
        }

        .card-action-btn.reveal:hover {
            box-shadow: 0 8px 25px rgba(72, 187, 120, 0.3);
        }

        .card-action-btn.discuss {
            background: linear-gradient(145deg, #ed8936, #dd6b20);
        }

        .card-action-btn.discuss:hover {
            box-shadow: 0 8px 25px rgba(237, 137, 54, 0.3);
        }

        .group-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .group-control-btn {
            background: linear-gradient(145deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 15px 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .group-control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .group-control-btn.random {
            background: linear-gradient(145deg, #f093fb, #f5576c);
            font-size: 1.2rem;
            padding: 18px 35px;
        }

        .group-control-btn.random:hover {
            box-shadow: 0 8px 25px rgba(240, 147, 251, 0.3);
        }

        .group-control-btn.next {
            background: linear-gradient(145deg, #48bb78, #38a169);
        }

        .group-control-btn.next:hover {
            box-shadow: 0 8px 25px rgba(72, 187, 120, 0.3);
        }

        .group-control-btn.shuffle {
            background: linear-gradient(145deg, #ed8936, #dd6b20);
        }

        .group-control-btn.shuffle:hover {
            box-shadow: 0 8px 25px rgba(237, 137, 54, 0.3);
        }

        .group-control-btn.reset {
            background: linear-gradient(145deg, #718096, #4a5568);
        }

        .group-control-btn.reset:hover {
            box-shadow: 0 8px 25px rgba(113, 128, 150, 0.3);
        }

        .discussion-panel {
            background: linear-gradient(145deg, #fef5e7, #fed7cc);
            border: 3px solid #ed8936;
            border-radius: 20px;
            padding: 30px;
            margin-top: 20px;
            text-align: center;
            animation: slideIn 0.5s ease;
        }

        .discussion-panel h3 {
            color: #744210;
            font-size: 1.5rem;
            margin-bottom: 20px;
        }

        .discussion-tips {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            color: #2d3748;
            font-size: 1.1rem;
            line-height: 1.6;
            border: 2px solid #ed8936;
        }

        .discussion-close-btn {
            background: linear-gradient(145deg, #48bb78, #38a169);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .discussion-close-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(72, 187, 120, 0.3);
        }

        /* أنماط لعبة الكلمات المتقاطعة */
        .crossword-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .crossword-stats {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            width: 100%;
            max-width: 600px;
            margin-bottom: 20px;
        }

        .crossword-stat {
            background: linear-gradient(145deg, #4facfe, #00f2fe);
            color: white;
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            font-weight: bold;
        }

        .crossword-stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .crossword-stat-value {
            font-size: 1.8rem;
            font-weight: bold;
        }

        .word-card {
            background: linear-gradient(145deg, #f7fafc, #edf2f7);
            border-radius: 20px;
            padding: 30px;
            max-width: 700px;
            width: 100%;
            border: 3px solid #e2e8f0;
            transition: all 0.3s ease;
            position: relative;
        }

        .word-card.solved {
            border-color: #48bb78;
            background: linear-gradient(145deg, #c6f6d5, #9ae6b4);
        }

        .word-clue {
            font-size: 1.4rem;
            font-weight: bold;
            color: #2d3748;
            text-align: center;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .word-display {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .letter-box {
            width: 50px;
            height: 50px;
            border: 3px solid #4facfe;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: #2d3748;
            background: white;
            transition: all 0.3s ease;
        }

        .letter-box.filled {
            background: linear-gradient(145deg, #4facfe, #00f2fe);
            color: white;
            border-color: #00f2fe;
            animation: letterPop 0.3s ease;
        }

        .letter-box.correct {
            background: linear-gradient(145deg, #48bb78, #38a169);
            border-color: #38a169;
        }

        @keyframes letterPop {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .word-input {
            width: 100%;
            padding: 15px;
            border: 3px solid #4facfe;
            border-radius: 12px;
            font-size: 1.2rem;
            text-align: center;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: all 0.3s ease;
            background: white;
        }

        .word-input:focus {
            outline: none;
            border-color: #00f2fe;
            box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
        }

        .word-input.correct {
            border-color: #48bb78;
            background: linear-gradient(145deg, #c6f6d5, #9ae6b4);
        }

        .crossword-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .crossword-btn {
            background: linear-gradient(145deg, #4facfe, #00f2fe);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .crossword-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(79, 172, 254, 0.3);
        }

        .crossword-btn.hint {
            background: linear-gradient(145deg, #ed8936, #dd6b20);
        }

        .crossword-btn.hint:hover {
            box-shadow: 0 8px 25px rgba(237, 137, 54, 0.3);
        }

        .crossword-btn.skip {
            background: linear-gradient(145deg, #718096, #4a5568);
        }

        .crossword-btn.skip:hover {
            box-shadow: 0 8px 25px rgba(113, 128, 150, 0.3);
        }

        .crossword-btn.next {
            background: linear-gradient(145deg, #48bb78, #38a169);
            font-size: 1.1rem;
            padding: 15px 30px;
        }

        .crossword-btn.next:hover {
            box-shadow: 0 8px 25px rgba(72, 187, 120, 0.3);
        }

        .crossword-feedback {
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
            margin: 20px 0;
            padding: 15px;
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .crossword-feedback.correct {
            background: linear-gradient(145deg, #c6f6d5, #9ae6b4);
            color: #22543d;
        }

        .crossword-feedback.incorrect {
            background: linear-gradient(145deg, #fed7d7, #feb2b2);
            color: #742a2a;
        }

        .crossword-feedback.hint {
            background: linear-gradient(145deg, #feebc8, #fbd38d);
            color: #744210;
        }

        .hint-display {
            background: linear-gradient(145deg, #feebc8, #fbd38d);
            border: 2px solid #ed8936;
            border-radius: 12px;
            padding: 15px;
            margin: 15px 0;
            color: #744210;
            font-weight: bold;
            text-align: center;
            animation: slideIn 0.5s ease;
        }

        .word-definition {
            background: linear-gradient(145deg, #ebf4ff, #dbeafe);
            border: 2px solid #4facfe;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            color: #2c5282;
            font-size: 1.1rem;
            line-height: 1.6;
            animation: slideIn 0.5s ease;
        }

        /* أنماط لعبة صح/خطأ */
        .truefalse-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .truefalse-stats {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            width: 100%;
            max-width: 600px;
            margin-bottom: 20px;
        }

        .truefalse-stat {
            background: linear-gradient(145deg, #48bb78, #38a169);
            color: white;
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            font-weight: bold;
        }

        .truefalse-stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .truefalse-stat-value {
            font-size: 1.8rem;
            font-weight: bold;
        }

        .truefalse-question-card {
            background: linear-gradient(145deg, #f7fafc, #edf2f7);
            border-radius: 20px;
            padding: 40px;
            max-width: 700px;
            width: 100%;
            border: 3px solid #e2e8f0;
            transition: all 0.3s ease;
            position: relative;
            text-align: center;
        }

        .truefalse-question-card.correct {
            border-color: #48bb78;
            background: linear-gradient(145deg, #c6f6d5, #9ae6b4);
        }

        .truefalse-question-card.incorrect {
            border-color: #f56565;
            background: linear-gradient(145deg, #fed7d7, #feb2b2);
        }

        .truefalse-question-text {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .truefalse-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 25px;
        }

        .truefalse-option {
            background: linear-gradient(145deg, #4299e1, #3182ce);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 30px;
            font-size: 1.8rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            min-height: 120px;
        }

        .truefalse-option:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(66, 153, 225, 0.3);
        }

        .truefalse-option.true {
            background: linear-gradient(145deg, #48bb78, #38a169);
        }

        .truefalse-option.true:hover {
            box-shadow: 0 12px 35px rgba(72, 187, 120, 0.3);
        }

        .truefalse-option.false {
            background: linear-gradient(145deg, #f56565, #e53e3e);
        }

        .truefalse-option.false:hover {
            box-shadow: 0 12px 35px rgba(245, 101, 101, 0.3);
        }

        .truefalse-option.selected-correct {
            background: linear-gradient(145deg, #48bb78, #38a169);
            animation: correctPulse 0.6s ease;
            border: 4px solid #22543d;
        }

        .truefalse-option.selected-incorrect {
            background: linear-gradient(145deg, #f56565, #e53e3e);
            animation: shake 0.5s ease;
            border: 4px solid #742a2a;
        }

        .truefalse-option.not-selected {
            opacity: 0.5;
            transform: scale(0.95);
        }

        .truefalse-option-icon {
            font-size: 2.5rem;
        }

        .truefalse-option-text {
            font-size: 1.8rem;
        }

        .truefalse-explanation {
            background: linear-gradient(145deg, #ebf4ff, #dbeafe);
            border: 2px solid #4299e1;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            color: #2c5282;
            font-size: 1.2rem;
            line-height: 1.6;
            animation: slideIn 0.5s ease;
            text-align: right;
        }

        .truefalse-explanation.correct {
            background: linear-gradient(145deg, #c6f6d5, #9ae6b4);
            border-color: #48bb78;
            color: #22543d;
        }

        .truefalse-explanation.incorrect {
            background: linear-gradient(145deg, #fed7d7, #feb2b2);
            border-color: #f56565;
            color: #742a2a;
        }

        .truefalse-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .truefalse-btn {
            background: linear-gradient(145deg, #48bb78, #38a169);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .truefalse-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(72, 187, 120, 0.3);
        }

        .truefalse-btn.next {
            background: linear-gradient(145deg, #4299e1, #3182ce);
            font-size: 1.1rem;
            padding: 15px 30px;
        }

        .truefalse-btn.next:hover {
            box-shadow: 0 8px 25px rgba(66, 153, 225, 0.3);
        }

        .truefalse-btn.reset {
            background: linear-gradient(145deg, #718096, #4a5568);
        }

        .truefalse-btn.reset:hover {
            box-shadow: 0 8px 25px rgba(113, 128, 150, 0.3);
        }

        .truefalse-feedback {
            text-align: center;
            font-size: 1.3rem;
            font-weight: bold;
            margin: 20px 0;
            padding: 20px;
            border-radius: 15px;
            transition: all 0.3s ease;
        }

        .truefalse-feedback.correct {
            background: linear-gradient(145deg, #c6f6d5, #9ae6b4);
            color: #22543d;
        }

        .truefalse-feedback.incorrect {
            background: linear-gradient(145deg, #fed7d7, #feb2b2);
            color: #742a2a;
        }

        /* أنماط لعبة أسئلة السرعة */
        .buzz-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .buzz-teams {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            width: 100%;
            max-width: 800px;
            margin-bottom: 30px;
        }

        .buzz-team {
            background: linear-gradient(145deg, #f7fafc, #edf2f7);
            border-radius: 25px;
            padding: 30px;
            text-align: center;
            border: 4px solid #e2e8f0;
            transition: all 0.3s ease;
            position: relative;
        }

        .buzz-team.team1 {
            border-color: #4299e1;
        }

        .buzz-team.team2 {
            border-color: #f56565;
        }

        .buzz-team.active {
            transform: scale(1.05);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            animation: teamPulse 0.6s ease;
        }

        .buzz-team.team1.active {
            background: linear-gradient(145deg, #ebf8ff, #bee3f8);
            border-color: #2b77cb;
        }

        .buzz-team.team2.active {
            background: linear-gradient(145deg, #fed7d7, #feb2b2);
            border-color: #c53030;
        }

        @keyframes teamPulse {
            0%, 100% { transform: scale(1.05); }
            50% { transform: scale(1.1); }
        }

        .buzz-team-name {
            font-size: 2rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 20px;
        }

        .buzz-team-score {
            font-size: 4rem;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .buzz-team.team1 .buzz-team-score {
            color: #3182ce;
        }

        .buzz-team.team2 .buzz-team-score {
            color: #e53e3e;
        }

        .buzz-button {
            background: linear-gradient(145deg, #ff6b6b, #ee5a52);
            color: white;
            border: none;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            font-size: 3rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.3);
            position: relative;
            overflow: hidden;
        }

        .buzz-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(255, 107, 107, 0.4);
        }

        .buzz-button:active {
            transform: translateY(-2px) scale(0.95);
        }

        .buzz-button.team1 {
            background: linear-gradient(145deg, #4299e1, #3182ce);
            box-shadow: 0 10px 30px rgba(66, 153, 225, 0.3);
        }

        .buzz-button.team1:hover {
            box-shadow: 0 15px 40px rgba(66, 153, 225, 0.4);
        }

        .buzz-button.pressed {
            animation: buzzPress 0.3s ease;
        }

        @keyframes buzzPress {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .buzz-question-panel {
            background: linear-gradient(145deg, #f7fafc, #edf2f7);
            border-radius: 25px;
            padding: 40px;
            max-width: 800px;
            width: 100%;
            border: 3px solid #e2e8f0;
            text-align: center;
            margin-bottom: 30px;
        }

        .buzz-question-text {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .buzz-status {
            font-size: 1.3rem;
            font-weight: bold;
            padding: 15px 30px;
            border-radius: 20px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .buzz-status.waiting {
            background: linear-gradient(145deg, #feebc8, #fbd38d);
            color: #744210;
        }

        .buzz-status.team1-buzzed {
            background: linear-gradient(145deg, #bee3f8, #90cdf4);
            color: #2c5282;
        }

        .buzz-status.team2-buzzed {
            background: linear-gradient(145deg, #fed7d7, #feb2b2);
            color: #742a2a;
        }

        .buzz-answer-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            border: 2px solid #e2e8f0;
            display: none;
        }

        .buzz-answer-section.active {
            display: block;
            animation: slideIn 0.5s ease;
        }

        .buzz-answer-input {
            width: 100%;
            padding: 20px;
            border: 3px solid #e2e8f0;
            border-radius: 15px;
            font-size: 1.2rem;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .buzz-answer-input:focus {
            outline: none;
            border-color: #4299e1;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);
        }

        .buzz-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        .buzz-control-btn {
            background: linear-gradient(145deg, #ff6b6b, #ee5a52);
            color: white;
            border: none;
            border-radius: 15px;
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .buzz-control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
        }

        .buzz-control-btn.start {
            background: linear-gradient(145deg, #48bb78, #38a169);
            font-size: 1.3rem;
            padding: 20px 40px;
        }

        .buzz-control-btn.start:hover {
            box-shadow: 0 8px 25px rgba(72, 187, 120, 0.3);
        }

        .buzz-control-btn.correct {
            background: linear-gradient(145deg, #48bb78, #38a169);
        }

        .buzz-control-btn.correct:hover {
            box-shadow: 0 8px 25px rgba(72, 187, 120, 0.3);
        }

        .buzz-control-btn.incorrect {
            background: linear-gradient(145deg, #f56565, #e53e3e);
        }

        .buzz-control-btn.incorrect:hover {
            box-shadow: 0 8px 25px rgba(245, 101, 101, 0.3);
        }

        .buzz-control-btn.next {
            background: linear-gradient(145deg, #ed8936, #dd6b20);
        }

        .buzz-control-btn.next:hover {
            box-shadow: 0 8px 25px rgba(237, 137, 54, 0.3);
        }

        .buzz-feedback {
            text-align: center;
            font-size: 1.4rem;
            font-weight: bold;
            margin: 25px 0;
            padding: 25px;
            border-radius: 20px;
            transition: all 0.3s ease;
        }

        .buzz-feedback.correct {
            background: linear-gradient(145deg, #c6f6d5, #9ae6b4);
            color: #22543d;
        }

        .buzz-feedback.incorrect {
            background: linear-gradient(145deg, #fed7d7, #feb2b2);
            color: #742a2a;
        }

        .buzz-feedback.info {
            background: linear-gradient(145deg, #bee3f8, #90cdf4);
            color: #2c5282;
        }

        .buzz-stats {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            width: 100%;
            max-width: 600px;
            margin-bottom: 30px;
        }

        .buzz-stat {
            background: linear-gradient(145deg, #ff6b6b, #ee5a52);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            font-weight: bold;
        }

        .buzz-stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 8px;
        }

        .buzz-stat-value {
            font-size: 2rem;
            font-weight: bold;
        }

        /* أنماط لعبة المطابقة */
        .matching-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .matching-stats {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            width: 100%;
            max-width: 600px;
            margin-bottom: 20px;
        }

        .matching-stat {
            background: linear-gradient(145deg, #667eea, #764ba2);
            color: white;
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            font-weight: bold;
        }

        .matching-stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .matching-stat-value {
            font-size: 1.8rem;
            font-weight: bold;
        }

        .matching-game-area {
            display: grid;
            grid-template-columns: 1fr 100px 1fr;
            gap: 30px;
            width: 100%;
            max-width: 900px;
            align-items: start;
        }

        .matching-column {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .matching-column h3 {
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 20px;
            padding: 15px;
            background: linear-gradient(145deg, #f7fafc, #edf2f7);
            border-radius: 15px;
            border: 2px solid #e2e8f0;
        }

        .matching-item {
            background: linear-gradient(145deg, #f7fafc, #edf2f7);
            border: 3px solid #e2e8f0;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            font-size: 1.1rem;
            font-weight: bold;
            color: #2d3748;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .matching-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-color: #667eea;
        }

        .matching-item.selected {
            background: linear-gradient(145deg, #ebf4ff, #dbeafe);
            border-color: #4299e1;
            color: #2c5282;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(66, 153, 225, 0.3);
        }

        .matching-item.correct {
            background: linear-gradient(145deg, #c6f6d5, #9ae6b4);
            border-color: #48bb78;
            color: #22543d;
            animation: correctMatch 0.6s ease;
        }

        .matching-item.incorrect {
            background: linear-gradient(145deg, #fed7d7, #feb2b2);
            border-color: #f56565;
            color: #742a2a;
            animation: shake 0.5s ease;
        }

        @keyframes correctMatch {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .matching-connections {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        .connection-line {
            width: 4px;
            height: 60px;
            background: linear-gradient(180deg, #667eea, #764ba2);
            border-radius: 2px;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .connection-line.active {
            opacity: 1;
            animation: connectionPulse 0.5s ease;
        }

        @keyframes connectionPulse {
            0% { transform: scaleY(0); }
            100% { transform: scaleY(1); }
        }

        .matching-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .matching-btn {
            background: linear-gradient(145deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .matching-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .matching-btn.start {
            background: linear-gradient(145deg, #48bb78, #38a169);
            font-size: 1.2rem;
            padding: 15px 30px;
        }

        .matching-btn.start:hover {
            box-shadow: 0 8px 25px rgba(72, 187, 120, 0.3);
        }

        .matching-btn.check {
            background: linear-gradient(145deg, #ed8936, #dd6b20);
        }

        .matching-btn.check:hover {
            box-shadow: 0 8px 25px rgba(237, 137, 54, 0.3);
        }

        .matching-btn.reset {
            background: linear-gradient(145deg, #718096, #4a5568);
        }

        .matching-btn.reset:hover {
            box-shadow: 0 8px 25px rgba(113, 128, 150, 0.3);
        }

        .matching-feedback {
            text-align: center;
            font-size: 1.3rem;
            font-weight: bold;
            margin: 20px 0;
            padding: 20px;
            border-radius: 15px;
            transition: all 0.3s ease;
        }

        .matching-feedback.correct {
            background: linear-gradient(145deg, #c6f6d5, #9ae6b4);
            color: #22543d;
        }

        .matching-feedback.incorrect {
            background: linear-gradient(145deg, #fed7d7, #feb2b2);
            color: #742a2a;
        }

        .matching-feedback.partial {
            background: linear-gradient(145deg, #feebc8, #fbd38d);
            color: #744210;
        }

        .matching-instructions {
            background: linear-gradient(145deg, #ebf4ff, #dbeafe);
            border: 2px solid #4299e1;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            color: #2c5282;
            font-size: 1.1rem;
            text-align: center;
            line-height: 1.6;
        }

        /* أنماط لعبة الأسئلة الفردية */
        .quiz-solo-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .quiz-solo-stats {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            width: 100%;
            max-width: 600px;
            margin-bottom: 20px;
        }

        .quiz-solo-stat {
            background: linear-gradient(145deg, #4facfe, #00f2fe);
            color: white;
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            font-weight: bold;
        }

        .quiz-solo-stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .quiz-solo-stat-value {
            font-size: 1.8rem;
            font-weight: bold;
        }

        .quiz-solo-question-card {
            background: linear-gradient(145deg, #f7fafc, #edf2f7);
            border-radius: 20px;
            padding: 40px;
            max-width: 800px;
            width: 100%;
            border: 3px solid #e2e8f0;
            transition: all 0.3s ease;
            position: relative;
            text-align: center;
        }

        .quiz-solo-question-card.correct {
            border-color: #48bb78;
            background: linear-gradient(145deg, #c6f6d5, #9ae6b4);
        }

        .quiz-solo-question-card.incorrect {
            border-color: #f56565;
            background: linear-gradient(145deg, #fed7d7, #feb2b2);
        }

        .quiz-solo-question-text {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .quiz-solo-answers {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }

        .quiz-solo-answer {
            background: linear-gradient(145deg, #4facfe, #00f2fe);
            color: white;
            border: none;
            border-radius: 15px;
            padding: 20px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: right;
            position: relative;
            overflow: hidden;
        }

        .quiz-solo-answer:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(79, 172, 254, 0.3);
        }

        .quiz-solo-answer.selected-correct {
            background: linear-gradient(145deg, #48bb78, #38a169);
            animation: correctPulse 0.6s ease;
            border: 4px solid #22543d;
        }

        .quiz-solo-answer.selected-incorrect {
            background: linear-gradient(145deg, #f56565, #e53e3e);
            animation: shake 0.5s ease;
            border: 4px solid #742a2a;
        }

        .quiz-solo-answer.correct-answer {
            background: linear-gradient(145deg, #48bb78, #38a169);
            border: 4px solid #22543d;
        }

        .quiz-solo-answer.not-selected {
            opacity: 0.6;
            transform: scale(0.95);
        }

        .quiz-solo-answer-letter {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .quiz-solo-explanation {
            background: linear-gradient(145deg, #ebf4ff, #dbeafe);
            border: 2px solid #4facfe;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            color: #2c5282;
            font-size: 1.2rem;
            line-height: 1.6;
            animation: slideIn 0.5s ease;
            text-align: right;
        }

        .quiz-solo-explanation.correct {
            background: linear-gradient(145deg, #c6f6d5, #9ae6b4);
            border-color: #48bb78;
            color: #22543d;
        }

        .quiz-solo-explanation.incorrect {
            background: linear-gradient(145deg, #fed7d7, #feb2b2);
            border-color: #f56565;
            color: #742a2a;
        }

        .quiz-solo-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .quiz-solo-btn {
            background: linear-gradient(145deg, #4facfe, #00f2fe);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-solo-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(79, 172, 254, 0.3);
        }

        .quiz-solo-btn.start {
            background: linear-gradient(145deg, #48bb78, #38a169);
            font-size: 1.2rem;
            padding: 15px 30px;
        }

        .quiz-solo-btn.start:hover {
            box-shadow: 0 8px 25px rgba(72, 187, 120, 0.3);
        }

        .quiz-solo-btn.next {
            background: linear-gradient(145deg, #ed8936, #dd6b20);
        }

        .quiz-solo-btn.next:hover {
            box-shadow: 0 8px 25px rgba(237, 137, 54, 0.3);
        }

        .quiz-solo-btn.reset {
            background: linear-gradient(145deg, #718096, #4a5568);
        }

        .quiz-solo-btn.reset:hover {
            box-shadow: 0 8px 25px rgba(113, 128, 150, 0.3);
        }

        .quiz-solo-feedback {
            text-align: center;
            font-size: 1.3rem;
            font-weight: bold;
            margin: 20px 0;
            padding: 20px;
            border-radius: 15px;
            transition: all 0.3s ease;
        }

        .quiz-solo-feedback.correct {
            background: linear-gradient(145deg, #c6f6d5, #9ae6b4);
            color: #22543d;
        }

        .quiz-solo-feedback.incorrect {
            background: linear-gradient(145deg, #fed7d7, #feb2b2);
            color: #742a2a;
        }

        .quiz-solo-progress {
            background: #e2e8f0;
            height: 8px;
            border-radius: 4px;
            margin-bottom: 25px;
            overflow: hidden;
            width: 100%;
            max-width: 600px;
        }

        .quiz-solo-progress-fill {
            background: linear-gradient(90deg, #4facfe, #00f2fe);
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        @media (max-width: 1024px) {
            .games-container {
                grid-template-columns: 1fr 1fr;
                gap: 20px;
            }
            
            .main-title {
                font-size: 2.5rem;
            }

            .challenge-container {
                grid-template-columns: 1fr;
            }

            .teams-container {
                grid-template-columns: 1fr;
            }

            .quiz-answers-grid {
                grid-template-columns: 1fr;
            }

            .true-false-container {
                grid-template-columns: 1fr;
            }

            .group-stats {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .ladder-container {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .answers-grid {
                grid-template-columns: 1fr;
            }
            
            .speed-score-panel {
                grid-template-columns: 1fr;
            }
            
            .main-title {
                font-size: 2rem;
            }
            
            .game-wrapper {
                padding: 20px;
                margin: 10px;
            }
            
            .timer {
                font-size: 3rem;
                padding: 15px 30px;
            }
        }
    </style>
</head>
<body>
    <div class="main-header">
        <h1 class="main-title">🎮 أنشطة صفية لوحدة الذكاء الاصطناعي</h1>
        <p class="main-subtitle">من خلال تفعيل استراتيجية التعليم بالتلعيب<br>مقرر تقنية رقمية 2<br>لطالبات الصف الثاني ثانوي _ مسار إدارة الأعمال<br>الفصل الدراسي الأول لعام 1447 هـ<br>معلمة المادة / شذا الردادي</p>
    </div>

    <div class="games-container">
        <!-- بطاقة لعبة السلم -->
        <div class="game-card ladder" onclick="openGame('ladder')">
            <div class="game-icon">🎯</div>
            <h2 class="game-title">سلم المعرفة</h2>
            <p class="game-description">اصعدي درجات السلم بالإجابة الصحيحة واهبطي عند الخطأ</p>
            <ul class="game-features">
                <li>10 درجات للوصول للقمة</li>
                <li>أسئلة متنوعة حول الذكاء الاصطناعي</li>
                <li>نظام نقاط تفاعلي</li>
                <li>تأثيرات بصرية جميلة</li>
            </ul>
            <button class="play-button">🚀 ابدأ اللعب</button>
        </div>

        <!-- بطاقة مسابقة السرعة -->
        <div class="game-card speed" onclick="openGame('speed')">
            <div class="game-icon">⚡</div>
            <h2 class="game-title">مسابقة السرعة</h2>
            <p class="game-description">جاوبي بأسرع ما يمكن! لديك 15 ثانية فقط لكل سؤال</p>
            <ul class="game-features">
                <li>مؤقت 15 ثانية لكل سؤال</li>
                <li>نقاط إضافية للسرعة</li>
                <li>إمكانية الإيقاف المؤقت</li>
                <li>تحدي مثير ومليء بالإثارة</li>
            </ul>
            <button class="play-button speed">⚡ ابدأ التحدي</button>
        </div>

        <!-- بطاقة الكلمات المتقاطعة -->
        <div class="game-card crossword" onclick="openGame('crossword')">
            <div class="game-icon">🔤</div>
            <h2 class="game-title">الكلمات المتقاطعة</h2>
            <p class="game-description">اكتشفي المصطلحات المخفية من خلال التلميحات!</p>
            <ul class="game-features">
                <li>مصطلحات الذكاء الاصطناعي</li>
                <li>تلميحات ذكية ومفيدة</li>
                <li>نظام مساعدة تفاعلي</li>
                <li>تعلم المفردات التقنية</li>
            </ul>
            <button class="play-button crossword">🔤 ابدأ الاكتشاف</button>
        </div>

        <!-- بطاقة تحدي الذكاء الاصطناعي -->
        <div class="game-card challenge" onclick="openGame('challenge')">
            <div class="game-icon">🧠</div>
            <h2 class="game-title">بطاقات تحدي الذكاء الاصطناعي</h2>
            <p class="game-description">أسئلة مفتوحة لتطوير فهمك العميق للذكاء الاصطناعي</p>
            <ul class="game-features">
                <li>4 بطاقات تحدي متنوعة</li>
                <li>أسئلة مفتوحة للتفكير النقدي</li>
                <li>مساحة للكتابة والتعبير</li>
                <li>تطوير المهارات التحليلية</li>
            </ul>
            <button class="play-button challenge">🧠 ابدأ التحدي</button>
        </div>

        <!-- بطاقة مسابقة أبطال الذكاء الاصطناعي -->
        <div class="game-card quiz" onclick="openGame('quiz')">
            <div class="game-icon">🏆</div>
            <h2 class="game-title">مسابقة أبطال الذكاء الاصطناعي</h2>
            <p class="game-description">مسابقة تنافسية بين مجموعتين - من يجيب أسرع يفوز!</p>
            <ul class="game-features">
                <li>مسابقة بين مجموعتين</li>
                <li>أسئلة متنوعة وصح/خطأ</li>
                <li>نظام نقاط تنافسي</li>
                <li>مؤقت للسرعة والإثارة</li>
            </ul>
            <button class="play-button quiz">🏆 ابدأ المسابقة</button>
        </div>

        <!-- بطاقة النشاط الجماعي -->
        <div class="game-card group" onclick="openGame('group')">
            <div class="game-icon">👥</div>
            <h2 class="game-title">النشاط الجماعي</h2>
            <p class="game-description">بطاقات تحدي تفاعلية للأنشطة الجماعية والمناقشات</p>
            <ul class="game-features">
                <li>بطاقات متنوعة للمجموعات</li>
                <li>أسئلة وصور ورموز</li>
                <li>مناقشات تفاعلية</li>
                <li>أنشطة جماعية ممتعة</li>
            </ul>
            <button class="play-button group">👥 ابدأ النشاط</button>
        </div>

        <!-- بطاقة لعبة صح/خطأ -->
        <div class="game-card truefalse" onclick="openGame('truefalse')">
            <div class="game-icon">✅❌</div>
            <h2 class="game-title">لعبة صح/خطأ</h2>
            <p class="game-description">اختبري معلوماتك بأسئلة سريعة - صح أم خطأ؟</p>
            <ul class="game-features">
                <li>أسئلة متنوعة حول الذكاء الاصطناعي</li>
                <li>إجابات سريعة ومباشرة</li>
                <li>تفسيرات مفيدة للإجابات</li>
                <li>نظام نقاط تشجيعي</li>
            </ul>
            <button class="play-button truefalse">✅ ابدأ التحدي</button>
        </div>

        <!-- بطاقة لعبة أسئلة السرعة -->
        <div class="game-card buzz" onclick="openGame('buzz')">
            <div class="game-icon">🚨</div>
            <h2 class="game-title">أسئلة السرعة</h2>
            <p class="game-description">مسابقة سرعة بين مجموعتين - من يضغط الجرس أولاً؟</p>
            <ul class="game-features">
                <li>مسابقة تنافسية بين مجموعتين</li>
                <li>أسئلة مفتوحة تحتاج تفكير سريع</li>
                <li>نظام جرس للإجابة السريعة</li>
                <li>تحدي مثير ومليء بالإثارة</li>
            </ul>
            <button class="play-button buzz">🚨 ابدأ المنافسة</button>
        </div>

        <!-- بطاقة لعبة المطابقة -->
        <div class="game-card matching" onclick="openGame('matching')">
            <div class="game-icon">🔗</div>
            <h2 class="game-title">لعبة المطابقة</h2>
            <p class="game-description">وصّلي بين المصطلحات والأمثلة الصحيحة!</p>
            <ul class="game-features">
                <li>مطابقة المصطلحات مع الأمثلة</li>
                <li>تفاعل بصري جميل</li>
                <li>تعلم المفاهيم بطريقة ممتعة</li>
                <li>نظام نقاط تشجيعي</li>
            </ul>
            <button class="play-button matching">🔗 ابدأ المطابقة</button>
        </div>

        <!-- بطاقة لعبة الأسئلة -->
        <div class="game-card quiz-solo" onclick="openGame('quiz-solo')">
            <div class="game-icon">📝</div>
            <h2 class="game-title">أسئلة اختيار من متعدد</h2>
            <p class="game-description">اختبري معلوماتك بأسئلة متنوعة حول الذكاء الاصطناعي!</p>
            <ul class="game-features">
                <li>أسئلة اختيار من متعدد متنوعة</li>
                <li>تغذية راجعة فورية</li>
                <li>نظام نقاط تفصيلي</li>
                <li>تتبع التقدم والأداء</li>
            </ul>
            <button class="play-button quiz-solo">📝 ابدأ الاختبار</button>
        </div>
    </div>

    <!-- محتوى لعبة السلم -->
    <div class="game-content" id="ladderGame">
        <div class="game-wrapper">
            <button class="close-button" onclick="closeGame('ladder')">×</button>
            <h1 class="title">🎯 سلم المعرفة</h1>
            <p class="subtitle">الذكاء الاصطناعي والتعلم الآلي</p>
            
            <div class="ladder-container" id="ladder">
                <!-- سيتم إنشاء درجات السلم بواسطة JavaScript -->
            </div>
            
            <div class="question-panel" id="questionPanel">
                <div class="question-text" id="questionText">اضغطي على الدرجة الأولى لبدء اللعبة! 🚀</div>
                <div class="answers-grid" id="answersGrid" style="display: none;">
                    <!-- سيتم إنشاء الإجابات بواسطة JavaScript -->
                </div>
            </div>
            
            <div class="feedback" id="feedback" style="display: none;"></div>
            
            <div class="score-panel">
                <div>المستوى الحالي: <span id="currentLevel">0</span>/10</div>
                <div>النقاط: <span id="score">0</span></div>
                <button class="reset-btn" onclick="resetLadderGame()">إعادة البدء</button>
            </div>
        </div>
    </div>

    <!-- محتوى مسابقة السرعة -->
    <div class="game-content" id="speedGame">
        <div class="game-wrapper">
            <button class="close-button" onclick="closeGame('speed')">×</button>
            <h1 class="title">⚡ مسابقة السرعة</h1>
            <p class="subtitle">جاوبي بأسرع ما يمكن!</p>
            
            <div class="timer-container">
                <div class="timer" id="timer">15</div>
            </div>
            
            <div class="speed-score-panel">
                <div class="score-item">
                    <div>السؤال الحالي</div>
                    <span class="score-value" id="currentQuestion">0</span>
                </div>
                <div class="score-item">
                    <div>الإجابات الصحيحة</div>
                    <span class="score-value" id="correctAnswers">0</span>
                </div>
                <div class="score-item">
                    <div>النقاط</div>
                    <span class="score-value" id="totalScore">0</span>
                </div>
            </div>
            
            <div class="question-panel" id="speedQuestionPanel">
                <div class="question-text" id="speedQuestionText">اضغطي "ابدأ المسابقة" للبدء!</div>
                <div class="answers-grid" id="speedAnswersGrid" style="display: none;">
                    <!-- سيتم إنشاء الإجابات بواسطة JavaScript -->
                </div>
            </div>
            
            <div class="feedback" id="speedFeedback" style="display: none;"></div>
            
            <div class="control-panel">
                <button class="control-btn start" id="startBtn" onclick="startSpeedGame()">🚀 ابدأ المسابقة</button>
                <button class="control-btn" onclick="resetSpeedGame()">🔄 إعادة البدء</button>
                <button class="control-btn" onclick="pauseGame()" id="pauseBtn" style="display: none;">⏸️ إيقاف مؤقت</button>
            </div>
        </div>
    </div>

    <!-- محتوى لعبة الكلمات المتقاطعة -->
    <div class="game-content" id="crosswordGame">
        <div class="game-wrapper">
            <button class="close-button" onclick="closeGame('crossword')">×</button>
            <h1 class="title">🔤 الكلمات المتقاطعة</h1>
            <p class="subtitle">اكتشفي المصطلحات من التلميحات!</p>
            
            <div class="crossword-container">
                <div class="crossword-stats">
                    <div class="crossword-stat">
                        <div class="crossword-stat-label">الكلمة الحالية</div>
                        <div class="crossword-stat-value" id="currentWordNumber">1</div>
                    </div>
                    <div class="crossword-stat">
                        <div class="crossword-stat-label">تم حلها</div>
                        <div class="crossword-stat-value" id="solvedWords">0</div>
                    </div>
                    <div class="crossword-stat">
                        <div class="crossword-stat-label">النقاط</div>
                        <div class="crossword-stat-value" id="crosswordScore">0</div>
                    </div>
                </div>
                
                <div class="word-card" id="wordCard">
                    <div class="word-clue" id="wordClue">اضغطي "ابدأ اللعبة" لبدء التحدي!</div>
                    
                    <div class="word-display" id="wordDisplay" style="display: none;">
                        <!-- سيتم إنشاء صناديق الحروف بواسطة JavaScript -->
                    </div>
                    
                    <input type="text" class="word-input" id="wordInput" placeholder="اكتبي الكلمة هنا..." style="display: none;">
                    
                    <div class="hint-display" id="hintDisplay" style="display: none;"></div>
                    <div class="word-definition" id="wordDefinition" style="display: none;"></div>
                </div>
                
                <div class="crossword-feedback" id="crosswordFeedback" style="display: none;"></div>
                
                <div class="crossword-controls">
                    <button class="crossword-btn" id="startCrosswordBtn" onclick="startCrosswordGame()">🚀 ابدأ اللعبة</button>
                    <button class="crossword-btn hint" onclick="showHint()" id="hintBtn" style="display: none;">💡 تلميح</button>
                    <button class="crossword-btn skip" onclick="skipWord()" id="skipBtn" style="display: none;">⏭️ تخطي</button>
                    <button class="crossword-btn next" onclick="nextWord()" id="nextBtn" style="display: none;">➡️ التالي</button>
                    <button class="crossword-btn" onclick="resetCrosswordGame()">🔄 إعادة البدء</button>
                </div>
            </div>
        </div>
    </div>

    <!-- محتوى بطاقات التحدي -->
    <div class="game-content" id="challengeGame">
        <div class="game-wrapper">
            <button class="close-button" onclick="closeGame('challenge')">×</button>
            <h1 class="title">🧠 بطاقات تحدي الذكاء الاصطناعي</h1>
            <p class="subtitle">أسئلة مفتوحة لتطوير فهمك العميق</p>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            </div>
            
            <div class="challenge-container" id="challengeContainer">
                <!-- سيتم إنشاء البطاقات بواسطة JavaScript -->
            </div>
            
            <div class="challenge-controls">
                <button class="challenge-btn secondary" onclick="resetChallengeGame()">🔄 إعادة البدء</button>
                <button class="challenge-btn" onclick="saveProgress()">💾 حفظ التقدم</button>
                <button class="challenge-btn" onclick="showSummary()">📋 عرض الملخص</button>
            </div>
        </div>
    </div>

    <!-- محتوى النشاط الجماعي -->
    <div class="game-content" id="groupGame">
        <div class="game-wrapper">
            <button class="close-button" onclick="closeGame('group')">×</button>
            <div class="group-header">
                <h1 class="title">👥 النشاط الجماعي</h1>
                <p class="subtitle">بطاقات تحدي تفاعلية للمجموعات</p>
            </div>
            
            <div class="group-stats">
                <div class="stat-item">
                    <div class="stat-label">البطاقة الحالية</div>
                    <div class="stat-value" id="currentCardNumber">1</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">إجمالي البطاقات</div>
                    <div class="stat-value" id="totalCards">12</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">النوع</div>
                    <div class="stat-value" id="cardType">سؤال</div>
                </div>
            </div>
            
            <div class="group-card-container">
                <div class="group-card" id="groupCard">
                    <div class="card-type-badge" id="cardTypeBadge">💭 سؤال</div>
                    <div class="card-content" id="cardContent">
                        <div class="card-question" id="cardQuestion">اضغطي "بطاقة عشوائية" لبدء النشاط!</div>
                        <div class="card-answer" id="cardAnswer" style="display: none;"></div>
                        <div class="card-icon" id="cardIcon" style="display: none;"></div>
                    </div>
                    <div class="card-actions">
                        <button class="card-action-btn reveal" id="revealBtn" onclick="revealAnswer()" style="display: none;">
                            🔍 اكشفي الإجابة
                        </button>
                        <button class="card-action-btn discuss" onclick="startDiscussion()" style="display: none;">
                            💬 ابدئي النقاش
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="group-controls">
                <button class="group-control-btn random" onclick="drawRandomCard()">🎲 بطاقة عشوائية</button>
                <button class="group-control-btn next" onclick="nextCard()">➡️ البطاقة التالية</button>
                <button class="group-control-btn shuffle" onclick="shuffleCards()">🔀 خلط البطاقات</button>
                <button class="group-control-btn reset" onclick="resetGroupGame()">🔄 إعادة البدء</button>
            </div>
            
            <div class="discussion-panel" id="discussionPanel" style="display: none;">
                <h3>💬 وقت النقاش!</h3>
                <div class="discussion-tips" id="discussionTips"></div>
                <button class="discussion-close-btn" onclick="closeDiscussion()">✅ انتهى النقاش</button>
            </div>
        </div>
    </div>

    <!-- محتوى لعبة صح/خطأ -->
    <div class="game-content" id="trueFalseGame">
        <div class="game-wrapper">
            <button class="close-button" onclick="closeGame('truefalse')">×</button>
            <h1 class="title">✅❌ لعبة صح/خطأ</h1>
            <p class="subtitle">اختبري معلوماتك بأسئلة سريعة!</p>
            
            <div class="truefalse-container">
                <div class="truefalse-stats">
                    <div class="truefalse-stat">
                        <div class="truefalse-stat-label">السؤال الحالي</div>
                        <div class="truefalse-stat-value" id="tfCurrentQuestion">1</div>
                    </div>
                    <div class="truefalse-stat">
                        <div class="truefalse-stat-label">الإجابات الصحيحة</div>
                        <div class="truefalse-stat-value" id="tfCorrectAnswers">0</div>
                    </div>
                    <div class="truefalse-stat">
                        <div class="truefalse-stat-label">النقاط</div>
                        <div class="truefalse-stat-value" id="tfScore">0</div>
                    </div>
                </div>
                
                <div class="truefalse-question-card" id="tfQuestionCard">
                    <div class="truefalse-question-text" id="tfQuestionText">اضغطي "ابدأ اللعبة" لبدء التحدي!</div>
                    
                    <div class="truefalse-buttons" id="tfButtons" style="display: none;">
                        <button class="truefalse-option true" onclick="selectTrueFalseAnswer(true)">
                            <span class="truefalse-option-icon">✅</span>
                            <span class="truefalse-option-text">صح</span>
                        </button>
                        <button class="truefalse-option false" onclick="selectTrueFalseAnswer(false)">
                            <span class="truefalse-option-icon">❌</span>
                            <span class="truefalse-option-text">خطأ</span>
                        </button>
                    </div>
                    
                    <div class="truefalse-explanation" id="tfExplanation" style="display: none;"></div>
                </div>
                
                <div class="truefalse-feedback" id="tfFeedback" style="display: none;"></div>
                
                <div class="truefalse-controls">
                    <button class="truefalse-btn" id="tfStartBtn" onclick="startTrueFalseGame()">🚀 ابدأ اللعبة</button>
                    <button class="truefalse-btn next" id="tfNextBtn" onclick="nextTrueFalseQuestion()" style="display: none;">➡️ السؤال التالي</button>
                    <button class="truefalse-btn reset" onclick="resetTrueFalseGame()">🔄 إعادة البدء</button>
                </div>
            </div>
        </div>
    </div>

    <!-- محتوى لعبة أسئلة السرعة -->
    <div class="game-content" id="buzzGame">
        <div class="game-wrapper">
            <button class="close-button" onclick="closeGame('buzz')">×</button>
            <h1 class="title">🚨 أسئلة السرعة</h1>
            <p class="subtitle">مسابقة سرعة بين مجموعتين - من يضغط الجرس أولاً؟</p>
            
            <div class="buzz-container">
                <div class="buzz-stats">
                    <div class="buzz-stat">
                        <div class="buzz-stat-label">السؤال الحالي</div>
                        <div class="buzz-stat-value" id="buzzCurrentQuestion">1</div>
                    </div>
                    <div class="buzz-stat">
                        <div class="buzz-stat-label">إجمالي الأسئلة</div>
                        <div class="buzz-stat-value" id="buzzTotalQuestions">3</div>
                    </div>
                    <div class="buzz-stat">
                        <div class="buzz-stat-label">الجولة</div>
                        <div class="buzz-stat-value" id="buzzRound">1</div>
                    </div>
                </div>
                
                <div class="buzz-teams">
                    <div class="buzz-team team1" id="buzzTeam1">
                        <div class="buzz-team-name">🔵 المجموعة الأولى</div>
                        <div class="buzz-team-score" id="buzzTeam1Score">0</div>
                        <button class="buzz-button team1" id="buzzButton1" onclick="buzzPressed(1)">
                            🚨
                        </button>
                    </div>
                    <div class="buzz-team team2" id="buzzTeam2">
                        <div class="buzz-team-name">🔴 المجموعة الثانية</div>
                        <div class="buzz-team-score" id="buzzTeam2Score">0</div>
                        <button class="buzz-button team2" id="buzzButton2" onclick="buzzPressed(2)">
                            🚨
                        </button>
                    </div>
                </div>
                
                <div class="buzz-question-panel">
                    <div class="buzz-status" id="buzzStatus">اضغطي "ابدأ المسابقة" لبدء التنافس!</div>
                    <div class="buzz-question-text" id="buzzQuestionText">استعدي للمنافسة الشيقة!</div>
                    
                    <div class="buzz-answer-section" id="buzzAnswerSection">
                        <h3>إجابة المجموعة <span id="answeringTeam">1</span>:</h3>
                        <textarea class="buzz-answer-input" id="buzzAnswerInput" 
                                placeholder="اكتبي إجابة المجموعة هنا..." rows="3"></textarea>
                        <div style="display: flex; gap: 15px; justify-content: center;">
                            <button class="buzz-control-btn correct" onclick="markAnswer(true)">✅ إجابة صحيحة</button>
                            <button class="buzz-control-btn incorrect" onclick="markAnswer(false)">❌ إجابة خاطئة</button>
                        </div>
                    </div>
                </div>
                
                <div class="buzz-feedback" id="buzzFeedback" style="display: none;"></div>
                
                <div class="buzz-controls">
                    <button class="buzz-control-btn start" id="buzzStartBtn" onclick="startBuzzGame()">🚀 ابدأ المسابقة</button>
                    <button class="buzz-control-btn next" id="buzzNextBtn" onclick="nextBuzzQuestion()" style="display: none;">➡️ السؤال التالي</button>
                    <button class="buzz-control-btn" onclick="resetBuzzGame()">🔄 إعادة البدء</button>
                </div>
            </div>
        </div>
    </div>

    <!-- محتوى لعبة المطابقة -->
    <div class="game-content" id="matchingGame">
        <div class="game-wrapper">
            <button class="close-button" onclick="closeGame('matching')">×</button>
            <h1 class="title">🔗 لعبة المطابقة</h1>
            <p class="subtitle">وصّلي بين المصطلحات والأمثلة الصحيحة!</p>
            
            <div class="matching-container">
                <div class="matching-stats">
                    <div class="matching-stat">
                        <div class="matching-stat-label">المطابقات الصحيحة</div>
                        <div class="matching-stat-value" id="matchingCorrect">0</div>
                    </div>
                    <div class="matching-stat">
                        <div class="matching-stat-label">إجمالي المطابقات</div>
                        <div class="matching-stat-value" id="matchingTotal">4</div>
                    </div>
                    <div class="matching-stat">
                        <div class="matching-stat-label">النقاط</div>
                        <div class="matching-stat-value" id="matchingScore">0</div>
                    </div>
                </div>
                
                <div class="matching-instructions" id="matchingInstructions">
                    اضغطي على مصطلح من العمود الأيسر، ثم اضغطي على المثال المناسب من العمود الأيمن لربطهما معاً!
                </div>
                
                <div class="matching-game-area" id="matchingGameArea">
                    <div class="matching-column">
                        <h3>🎯 المصطلحات</h3>
                        <div class="matching-item" id="term-0" onclick="selectItem('term', 0)">التعلم التعزيزي</div>
                        <div class="matching-item" id="term-1" onclick="selectItem('term', 1)">NLP</div>
                        <div class="matching-item" id="term-2" onclick="selectItem('term', 2)">محركات التوصية</div>
                        <div class="matching-item" id="term-3" onclick="selectItem('term', 3)">روبوتات المحادثة</div>
                    </div>
                    
                    <div class="matching-connections" id="matchingConnections">
                        <div class="connection-line" id="connection-0"></div>
                        <div class="connection-line" id="connection-1"></div>
                        <div class="connection-line" id="connection-2"></div>
                        <div class="connection-line" id="connection-3"></div>
                    </div>
                    
                    <div class="matching-column">
                        <h3>💡 الأمثلة</h3>
                        <div class="matching-item" id="example-0" onclick="selectItem('example', 0)">اقتراح فيديو على YouTube</div>
                        <div class="matching-item" id="example-1" onclick="selectItem('example', 1)">خدمة عملاء وزارة الصحة 937</div>
                        <div class="matching-item" id="example-2" onclick="selectItem('example', 2)">لعب الشطرنج بالذكاء الاصطناعي</div>
                        <div class="matching-item" id="example-3" onclick="selectItem('example', 3)">الترجمة الفورية من Google Translate</div>
                    </div>
                </div>
                
                <div class="matching-feedback" id="matchingFeedback" style="display: none;"></div>
                
                <div class="matching-controls">
                    <button class="matching-btn start" id="matchingStartBtn" onclick="startMatchingGame()">🚀 ابدأ اللعبة</button>
                    <button class="matching-btn check" id="matchingCheckBtn" onclick="checkMatches()" style="display: none;">✅ تحقق من الإجابات</button>
                    <button class="matching-btn" onclick="clearSelections()">🔄 مسح الاختيارات</button>
                    <button class="matching-btn reset" onclick="resetMatchingGame()">🔄 إعادة البدء</button>
                </div>
            </div>
        </div>
    </div>

    <!-- محتوى لعبة الأسئلة الفردية -->
    <div class="game-content" id="quizSoloGame">
        <div class="game-wrapper">
            <button class="close-button" onclick="closeGame('quiz-solo')">×</button>
            <h1 class="title">📝 أسئلة اختيار من متعدد</h1>
            <p class="subtitle">اختبري معلوماتك حول الذكاء الاصطناعي!</p>
            
            <div class="quiz-solo-container">
                <div class="quiz-solo-stats">
                    <div class="quiz-solo-stat">
                        <div class="quiz-solo-stat-label">السؤال الحالي</div>
                        <div class="quiz-solo-stat-value" id="quizSoloCurrentQuestion">1</div>
                    </div>
                    <div class="quiz-solo-stat">
                        <div class="quiz-solo-stat-label">الإجابات الصحيحة</div>
                        <div class="quiz-solo-stat-value" id="quizSoloCorrectAnswers">0</div>
                    </div>
                    <div class="quiz-solo-stat">
                        <div class="quiz-solo-stat-label">النقاط</div>
                        <div class="quiz-solo-stat-value" id="quizSoloScore">0</div>
                    </div>
                </div>
                
                <div class="quiz-solo-progress">
                    <div class="quiz-solo-progress-fill" id="quizSoloProgressFill" style="width: 0%"></div>
                </div>
                
                <div class="quiz-solo-question-card" id="quizSoloQuestionCard">
                    <div class="quiz-solo-question-text" id="quizSoloQuestionText">اضغطي "ابدأ الاختبار" لبدء التحدي!</div>
                    
                    <div class="quiz-solo-answers" id="quizSoloAnswers" style="display: none;">
                        <!-- سيتم إنشاء الإجابات بواسطة JavaScript -->
                    </div>
                    
                    <div class="quiz-solo-explanation" id="quizSoloExplanation" style="display: none;"></div>
                </div>
                
                <div class="quiz-solo-feedback" id="quizSoloFeedback" style="display: none;"></div>
                
                <div class="quiz-solo-controls">
                    <button class="quiz-solo-btn start" id="quizSoloStartBtn" onclick="startQuizSoloGame()">🚀 ابدأ الاختبار</button>
                    <button class="quiz-solo-btn next" id="quizSoloNextBtn" onclick="nextQuizSoloQuestion()" style="display: none;">➡️ السؤال التالي</button>
                    <button class="quiz-solo-btn reset" onclick="resetQuizSoloGame()">🔄 إعادة البدء</button>
                </div>
            </div>
        </div>
    </div>

    <!-- محتوى مسابقة أبطال الذكاء الاصطناعي -->
    <div class="game-content" id="quizGame">
        <div class="game-wrapper">
            <button class="close-button" onclick="closeGame('quiz')">×</button>
            <div class="quiz-header">
                <h1 class="title">🏆 مسابقة أبطال الذكاء الاصطناعي</h1>
                <p class="subtitle">مسابقة تنافسية - من يجيب أسرع يفوز!</p>
            </div>
            
            <div class="teams-container">
                <div class="team-card team1" id="team1Card">
                    <div class="team-name">🔵 الفريق الأزرق</div>
                    <div class="team-score" id="team1Score">0</div>
                    <div class="team-status" id="team1Status">جاهز للبدء</div>
                </div>
                <div class="team-card team2" id="team2Card">
                    <div class="team-name">🔴 الفريق الأحمر</div>
                    <div class="team-score" id="team2Score">0</div>
                    <div class="team-status" id="team2Status">جاهز للبدء</div>
                </div>
            </div>
            
            <div class="quiz-timer" id="quizTimer" style="display: none;">10</div>
            
            <div class="quiz-question-panel" id="quizQuestionPanel">
                <div class="quiz-question-text" id="quizQuestionText">اضغطي "ابدأ المسابقة" لبدء التنافس!</div>
                <div class="quiz-answers-grid" id="quizAnswersGrid" style="display: none;">
                    <!-- سيتم إنشاء الإجابات بواسطة JavaScript -->
                </div>
                <div class="true-false-container" id="trueFalseContainer" style="display: none;">
                    <!-- سيتم إنشاء أزرار صح/خطأ بواسطة JavaScript -->
                </div>
            </div>
            
            <div class="quiz-feedback" id="quizFeedback" style="display: none;"></div>
            
            <div class="quiz-controls">
                <button class="quiz-control-btn start" id="quizStartBtn" onclick="startQuizGame()">🚀 ابدأ المسابقة</button>
                <button class="quiz-control-btn next" id="quizNextBtn" onclick="nextQuizQuestion()" style="display: none;">➡️ السؤال التالي</button>
                <button class="quiz-control-btn" onclick="resetQuizGame()">🔄 إعادة البدء</button>
            </div>
        </div>
    </div>

    <script>
        // بيانات الأسئلة للعبة السلم
        const ladderQuestions = [
            {
                question: "اذكري مثالاً على الذكاء الاصطناعي في الطب",
                answers: ["تشخيص الأمراض بالأشعة", "استخدام المجهر", "قياس الضغط", "سماعة الطبيب"],
                correct: 0
            },
            {
                question: "عرّفي التعلم الموجه في الذكاء الاصطناعي",
                answers: ["التعلم بدون بيانات", "التعلم من البيانات المُصنفة مسبقاً", "التعلم العشوائي", "التعلم اليدوي"],
                correct: 1
            },
            {
                question: "ما هو الهدف من خوارزميات التعلم الآلي؟",
                answers: ["حفظ البيانات فقط", "التنبؤ واتخاذ القرارات", "طباعة التقارير", "تصميم المواقع"],
                correct: 1
            },
            {
                question: "أي من التالي يُعتبر من تطبيقات الذكاء الاصطناعي؟",
                answers: ["الآلة الحاسبة", "المساعد الصوتي", "المصباح الكهربائي", "القلم"],
                correct: 1
            },
            {
                question: "ما المقصود بالشبكات العصبية الاصطناعية؟",
                answers: ["شبكات الإنترنت", "محاكاة عمل الدماغ البشري", "شبكات الكهرباء", "شبكات المياه"],
                correct: 1
            },
            {
                question: "في أي مجال يُستخدم الذكاء الاصطناعي للتعرف على الوجوه؟",
                answers: ["الطبخ", "الأمن والمراقبة", "الزراعة", "النجارة"],
                correct: 1
            },
            {
                question: "ما هو التعلم غير الموجه؟",
                answers: ["التعلم من بيانات غير مُصنفة", "التعلم في المدرسة", "التعلم بالحفظ", "التعلم بالكتابة"],
                correct: 0
            },
            {
                question: "أي من التالي مثال على معالجة اللغة الطبيعية؟",
                answers: ["حل المعادلات", "ترجمة النصوص", "رسم الخرائط", "قياس المسافات"],
                correct: 1
            },
            {
                question: "ما فائدة الذكاء الاصطناعي في التجارة الإلكترونية؟",
                answers: ["تغيير الألوان", "اقتراح المنتجات المناسبة", "طباعة الفواتير", "تنظيف الشاشة"],
                correct: 1
            },
            {
                question: "ما هو الهدف النهائي من دراسة الذكاء الاصطناعي؟",
                answers: ["استبدال البشر", "مساعدة البشر وتحسين حياتهم", "إنشاء الروبوتات فقط", "تعقيد الأمور"],
                correct: 1
            }
        ];

        // بيانات الأسئلة لمسابقة السرعة
        const speedQuestions = [
            {
                question: "ما الفرق بين التعلم الموجه وغير الموجه؟",
                answers: [
                    "التعلم الموجه يستخدم بيانات مُصنفة، غير الموجه يكتشف الأنماط بدون تصنيف",
                    "التعلم الموجه أسرع من غير الموجه",
                    "التعلم غير الموجه يحتاج معلم، الموجه لا يحتاج",
                    "لا يوجد فرق بينهما"
                ],
                correct: 0
            },
            {
                question: "أعطي مثالاً لتطبيق الذكاء الاصطناعي في الطب:",
                answers: [
                    "استخدام المجهر العادي",
                    "تشخيص الأمراض من الأشعة والصور الطبية",
                    "قياس الضغط بالجهاز التقليدي",
                    "كتابة الوصفات يدوياً"
                ],
                correct: 1
            },
            {
                question: "ما المقصود بالتحيز في أخلاقيات الذكاء الاصطناعي؟",
                answers: [
                    "سرعة اتخاذ القرارات",
                    "عدم العدالة في القرارات بسبب بيانات متحيزة",
                    "استخدام خوارزميات معقدة",
                    "توفير المال والوقت"
                ],
                correct: 1
            },
            {
                question: "ما هي الفائدة من استخدام الذكاء الاصطناعي في المدن الذكية؟",
                answers: [
                    "تحسين إدارة المرور والطاقة",
                    "زيادة عدد السيارات",
                    "تقليل عدد المباني",
                    "إلغاء وسائل النقل"
                ],
                correct: 0
            },
            {
                question: "كيف يساعد الذكاء الاصطناعي في التعليم؟",
                answers: [
                    "يلغي دور المعلم",
                    "يوفر تعلماً مخصصاً لكل طالب",
                    "يقلل من الكتب",
                    "يزيد صعوبة المناهج"
                ],
                correct: 1
            },
            {
                question: "اذكري اثنين من أخلاقيات الذكاء الاصطناعي:",
                answers: [
                    "السرعة والدقة",
                    "الشفافية والعدالة",
                    "التعقيد والغموض",
                    "التكلفة والربح"
                ],
                correct: 1
            },
            {
                question: "ما الفرق بين التعلم الموجه وغير الموجه؟",
                answers: [
                    "التعلم الموجه يستخدم بيانات مُصنفة مسبقاً، غير الموجه يكتشف الأنماط بدون تصنيف",
                    "التعلم الموجه أبطأ من غير الموجه",
                    "التعلم غير الموجه يحتاج معلم، الموجه لا يحتاج",
                    "التعلم الموجه يستخدم للألعاب فقط"
                ],
                correct: 0
            },
            {
                question: "أعط مثالاً لتطبيق الذكاء الاصطناعي في الطب:",
                answers: [
                    "استخدام السماعة الطبية",
                    "تشخيص الأمراض من الأشعة والتصوير الطبي",
                    "قياس الوزن والطول",
                    "كتابة التقارير يدوياً"
                ],
                correct: 1
            },
            {
                question: "ما المقصود بالتحيز في أخلاقيات الذكاء الاصطناعي؟",
                answers: [
                    "سرعة معالجة البيانات",
                    "عدم العدالة في القرارات بسبب بيانات متحيزة أو خوارزميات منحازة",
                    "استخدام تقنيات متطورة",
                    "توفير التكاليف"
                ],
                correct: 1
            }
        ];

        // متغيرات لعبة السلم
        let ladderCurrentStep = 0;
        let ladderScore = 0;
        let ladderGameActive = false;

        // متغيرات مسابقة السرعة
        let speedCurrentQuestionIndex = 0;
        let speedCorrectAnswers = 0;
        let speedTotalScore = 0;
        let speedTimeLeft = 15;
        let speedTimerInterval;
        let speedGameActive = false;
        let speedGamePaused = false;

        // بيانات بطاقات التحدي
        const challengeQuestions = [
            {
                question: "اذكري تطبيقاً للذكاء الاصطناعي في الطب.",
                placeholder: "مثال: تشخيص الأمراض من الأشعة السينية، اكتشاف السرطان، تطوير الأدوية..."
            },
            {
                question: "اشرحي مصطلح التحيز في القرار.",
                placeholder: "فكري في كيف يمكن للخوارزميات أن تكون غير عادلة أو متحيزة..."
            },
            {
                question: "قدمي مثالاً على وظيفة مستقبلية في الذكاء الاصطناعي.",
                placeholder: "تخيلي وظائف جديدة قد تظهر مع تطور التكنولوجيا..."
            },
            {
                question: "ما الفرق بين التعلم الموجه والتعلم التعزيزي؟",
                placeholder: "اشرحي الاختلافات الأساسية بين النوعين من التعلم الآلي..."
            }
        ];

        // متغيرات لعبة التحدي
        let challengeAnswers = ['', '', '', ''];
        let challengeProgress = 0;

        // بيانات بطاقات النشاط الجماعي
        const groupCards = [
            {
                type: 'question',
                question: 'اذكري مثالاً لتطبيق الذكاء الاصطناعي في النقل',
                answer: 'السيارات ذاتية القيادة 🚗',
                discussion: 'ناقشي مع المجموعة: كيف تعمل السيارات ذاتية القيادة؟ ما هي فوائدها ومخاطرها؟'
            },
            {
                type: 'symbol',
                question: 'اختاري رمزاً يمثل الشبكة العصبية',
                icon: '🧠',
                discussion: 'لماذا يُستخدم رمز الدماغ للشبكات العصبية؟ ما أوجه الشبه بين الدماغ والشبكة العصبية الاصطناعية؟'
            },
            {
                type: 'ethics',
                question: 'أخلاقيات الذكاء الاصطناعي',
                answer: 'تحدثي عن مسؤولية القرار والشفافية والعدالة في استخدام الذكاء الاصطناعي',
                discussion: 'ما هي المسؤوليات الأخلاقية عند تطوير واستخدام أنظمة الذكاء الاصطناعي؟'
            },
            {
                type: 'question',
                question: 'ما الفرق بين التعلم الموجه وغير الموجه؟',
                answer: 'التعلم الموجه يستخدم بيانات مُصنفة، بينما غير الموجه يكتشف الأنماط بدون تصنيف مسبق',
                discussion: 'أعطي أمثلة على كل نوع من التعلم واشرحي متى نستخدم كل منهما'
            },
            {
                type: 'symbol',
                question: 'اختاري رمزاً يمثل الروبوت',
                icon: '🤖',
                discussion: 'كيف تتخيلين شكل الروبوتات في المستقبل؟ ما الوظائف التي يمكن أن تؤديها؟'
            },
            {
                type: 'question',
                question: 'اذكري تطبيقاً للذكاء الاصطناعي في الطب',
                answer: 'تشخيص الأمراض من الأشعة، اكتشاف السرطان، تطوير الأدوية الجديدة 🏥',
                discussion: 'كيف يمكن للذكاء الاصطناعي أن يحسن من جودة الرعاية الصحية؟'
            },
            {
                type: 'ethics',
                question: 'التحيز في خوارزميات الذكاء الاصطناعي',
                answer: 'يحدث عندما تعكس البيانات تحيزات موجودة في المجتمع، مما يؤدي لقرارات غير عادلة',
                discussion: 'كيف يمكن تجنب التحيز في أنظمة الذكاء الاصطناعي؟ أعطي أمثلة'
            },
            {
                type: 'symbol',
                question: 'اختاري رمزاً يمثل البيانات الضخمة',
                icon: '📊',
                discussion: 'لماذا البيانات مهمة للذكاء الاصطناعي؟ كيف تؤثر جودة البيانات على النتائج؟'
            },
            {
                type: 'question',
                question: 'ما هو التعلم العميق؟',
                answer: 'نوع من التعلم الآلي يستخدم شبكات عصبية متعددة الطبقات لمحاكاة عمل الدماغ البشري',
                discussion: 'ما الفرق بين التعلم الآلي التقليدي والتعلم العميق؟ متى نستخدم كل منهما؟'
            },
            {
                type: 'ethics',
                question: 'الخصوصية في عصر الذكاء الاصطناعي',
                answer: 'حماية البيانات الشخصية وضمان عدم استخدامها بطرق تضر بالأفراد',
                discussion: 'كيف نوازن بين الاستفادة من البيانات وحماية الخصوصية؟'
            },
            {
                type: 'symbol',
                question: 'اختاري رمزاً يمثل الخوارزمية',
                icon: '⚙️',
                discussion: 'ما هي الخوارزمية؟ كيف تعمل الخوارزميات في الذكاء الاصطناعي؟'
            },
            {
                type: 'question',
                question: 'اذكري وظيفة مستقبلية قد تظهر مع تطور الذكاء الاصطناعي',
                answer: 'مدرب ذكاء اصطناعي، مطور أخلاقيات الذكاء الاصطناعي، محلل بيانات متقدم 🚀',
                discussion: 'كيف سيغير الذكاء الاصطناعي سوق العمل؟ ما المهارات المطلوبة للمستقبل؟'
            }
        ];

        // متغيرات النشاط الجماعي
        let currentGroupCardIndex = 0;
        let groupCardsOrder = [];
        let isCardRevealed = false;

        // بيانات أسئلة المسابقة التنافسية
        const quizQuestions = [
            {
                type: 'multiple',
                question: "أي مما يلي يعد مثالاً على المساعد الذكي؟",
                answers: ["Chatbot خدمة العملاء", "Siri", "YouTube", "Microsoft Word"],
                correct: 1
            },
            {
                type: 'multiple',
                question: "الشبكة العصبية في الذكاء الاصطناعي مستوحاة من:",
                answers: ["الجهاز الهضمي", "الجهاز العصبي", "الجهاز العضلي", "الجهاز التنفسي"],
                correct: 1
            },
            {
                type: 'multiple',
                question: "أي نوع من تعلم الآلة يعتمد على بيانات مصنفة مسبقاً؟",
                answers: ["التعلم الموجه", "التعلم غير الموجه", "التعلم التعزيزي", "التعلم العميق"],
                correct: 0
            },
            {
                type: 'multiple',
                question: "أي نوع من التعلم الآلي يعتمد على بيانات مصنفة مسبقاً؟",
                answers: ["الموجه", "غير الموجه", "التعزيزي", "العميق"],
                correct: 0
            },
            {
                type: 'multiple',
                question: "في أخلاقيات الذكاء الاصطناعي، ما الخطر المرتبط باستخدام بيانات غير دقيقة؟",
                answers: ["نتائج غير موثوقة", "توفير الوقت", "زيادة الدقة", "تقليل التكلفة"],
                correct: 0
            },
            {
                type: 'trueFalse',
                question: "محركات التوصية في YouTube وAmazon لا تعتمد على الذكاء الاصطناعي.",
                correct: false
            },
            {
                type: 'multiple',
                question: "ما هو الهدف الأساسي من الشبكات العصبية الاصطناعية؟",
                answers: ["حفظ البيانات", "محاكاة عمل الدماغ البشري", "طباعة التقارير", "تصميم المواقع"],
                correct: 1
            },
            {
                type: 'trueFalse',
                question: "يمكن للذكاء الاصطناعي أن يتعلم ويتحسن بمرور الوقت.",
                correct: true
            },
            {
                type: 'multiple',
                question: "أي من التالي يُعتبر مثالاً على معالجة اللغة الطبيعية؟",
                answers: ["حل المعادلات الرياضية", "ترجمة النصوص", "رسم الخرائط", "قياس درجة الحرارة"],
                correct: 1
            },
            {
                type: 'trueFalse',
                question: "التحيز في خوارزميات الذكاء الاصطناعي يمكن أن يؤدي إلى قرارات غير عادلة.",
                correct: true
            },
            {
                type: 'multiple',
                question: "ما فائدة استخدام الذكاء الاصطناعي في الطب؟",
                answers: ["تعقيد العلاج", "تشخيص الأمراض بدقة أكبر", "زيادة التكلفة", "إبطاء العملية"],
                correct: 1
            }
        ];

        // بيانات أسئلة السرعة
        const buzzQuestions = [
            {
                question: "ما الفرق بين التعلم الموجه وغير الموجه؟",
                sampleAnswer: "التعلم الموجه يستخدم بيانات مُصنفة مسبقاً لتدريب النموذج، بينما التعلم غير الموجه يكتشف الأنماط في البيانات بدون تصنيف مسبق."
            },
            {
                question: "أعطي مثالاً لتطبيق الذكاء الاصطناعي في الطب.",
                sampleAnswer: "تشخيص الأمراض من الأشعة السينية والصور الطبية، اكتشاف السرطان المبكر، تطوير الأدوية الجديدة، الجراحة بمساعدة الروبوت."
            },
            {
                question: "ما المقصود بالتحيز في أخلاقيات الذكاء الاصطناعي؟",
                sampleAnswer: "التحيز يحدث عندما تعكس خوارزميات الذكاء الاصطناعي تحيزات موجودة في البيانات أو المجتمع، مما يؤدي لقرارات غير عادلة تجاه مجموعات معينة."
            }
        ];

        // متغيرات لعبة أسئلة السرعة
        let buzzCurrentQuestionIndex = 0;
        let buzzTeam1Score = 0;
        let buzzTeam2Score = 0;
        let buzzGameActive = false;
        let buzzQuestionActive = false;
        let buzzAnsweringTeam = null;
        let buzzRound = 1;

        // بيانات أسئلة صح/خطأ
        const trueFalseQuestions = [
            {
                question: "الذكاء الاصطناعي يساعد في تقليل تكاليف الطاقة في المدن الذكية.",
                answer: true,
                explanation: "صحيح! الذكاء الاصطناعي يحسن إدارة الطاقة في المدن الذكية من خلال تحليل أنماط الاستهلاك وتحسين توزيع الكهرباء والإضاءة الذكية، مما يقلل التكاليف والهدر."
            },
            {
                question: "محركات التوصية مثل YouTube تعتمد على الذكاء الاصطناعي.",
                answer: true,
                explanation: "صحيح! محركات التوصية في YouTube وNetflix وAmazon تستخدم خوارزميات التعلم الآلي لتحليل سلوك المستخدمين واقتراح المحتوى المناسب لهم."
            },
            {
                question: "في التعلم غير الموجه، يجب أن تكون البيانات مصنفة مسبقاً.",
                answer: false,
                explanation: "خطأ! في التعلم غير الموجه، البيانات غير مصنفة مسبقاً. النظام يكتشف الأنماط والعلاقات في البيانات بدون توجيه مسبق، بينما التعلم الموجه يحتاج بيانات مصنفة."
            },
            {
                question: "الشبكات العصبية الاصطناعية مستوحاة من عمل الدماغ البشري.",
                answer: true,
                explanation: "صحيح! الشبكات العصبية الاصطناعية مصممة لمحاكاة طريقة عمل الخلايا العصبية في الدماغ البشري، حيث تتصل العقد ببعضها وتنقل المعلومات."
            },
            {
                question: "التحيز في خوارزميات الذكاء الاصطناعي لا يؤثر على العدالة في القرارات.",
                answer: false,
                explanation: "خطأ! التحيز في الخوارزميات مشكلة خطيرة تؤدي لقرارات غير عادلة، خاصة في التوظيف والقروض والعدالة الجنائية. لذلك من المهم تطوير خوارزميات عادلة وشفافة."
            },
            {
                question: "يمكن للذكاء الاصطناعي أن يساعد في تشخيص الأمراض من الصور الطبية.",
                answer: true,
                explanation: "صحيح! الذكاء الاصطناعي يحقق نتائج ممتازة في تحليل الأشعة السينية والرنين المغناطيسي لاكتشاف السرطان وأمراض القلب والعيون، أحياناً بدقة تفوق الأطباء."
            },
            {
                question: "التعلم التعزيزي يحتاج لبيانات مصنفة مثل التعلم الموجه.",
                answer: false,
                explanation: "خطأ! التعلم التعزيزي يتعلم من خلال التفاعل مع البيئة والحصول على مكافآت أو عقوبات، وليس من بيانات مصنفة مسبقاً. مثل تعلم لعب الشطرنج أو قيادة السيارة."
            },
            {
                question: "معالجة اللغة الطبيعية تمكن الحاسوب من فهم النصوص البشرية.",
                answer: true,
                explanation: "صحيح! معالجة اللغة الطبيعية (NLP) تمكن الحاسوب من فهم وتحليل وإنتاج اللغة البشرية، مثل الترجمة والمساعدات الصوتية وتحليل المشاعر."
            },
            {
                question: "الذكاء الاصطناعي يهدف لاستبدال البشر في جميع الوظائف.",
                answer: false,
                explanation: "خطأ! الهدف من الذكاء الاصطناعي هو مساعدة البشر وتحسين حياتهم، وليس استبدالهم. يركز على أتمتة المهام المتكررة وتوفير أدوات لاتخاذ قرارات أفضل."
            },
            {
                question: "البيانات الضخمة ضرورية لتدريب نماذج التعلم العميق بفعالية.",
                answer: true,
                explanation: "صحيح! نماذج التعلم العميق تحتاج كميات كبيرة من البيانات للتدريب الفعال. كلما زادت البيانات عالية الجودة، كانت النتائج أفضل وأكثر دقة."
            }
        ];

        // بيانات الكلمات المتقاطعة
        const crosswordWords = [
            {
                word: "NLP",
                clue: "أداة تعتمد على الذكاء الاصطناعي لفهم اللغة البشرية",
                hint: "اختصار لثلاث كلمات إنجليزية",
                definition: "معالجة اللغة الطبيعية - تقنية تمكن الحاسوب من فهم وتحليل اللغة البشرية"
            },
            {
                word: "التعلم التعزيزي",
                clue: "نوع من التعلم الآلي يعتمد على المكافأة والعقاب",
                hint: "يتعلم من خلال التجربة والخطأ",
                definition: "نوع من التعلم الآلي حيث يتعلم النظام من خلال التفاعل مع البيئة والحصول على مكافآت أو عقوبات"
            },
            {
                word: "مهندس بيانات",
                clue: "مثال على وظيفة مستقبلية مرتبطة بالذكاء الاصطناعي",
                hint: "يعمل مع البيانات الضخمة",
                definition: "متخصص في جمع وتنظيم ومعالجة البيانات الضخمة لاستخدامها في أنظمة الذكاء الاصطناعي"
            },
            {
                word: "الشبكة العصبية",
                clue: "نموذج حاسوبي يحاكي عمل الدماغ البشري",
                hint: "تتكون من عقد متصلة ببعضها",
                definition: "نظام حاسوبي مستوحى من الشبكات العصبية البيولوجية، يستخدم في التعلم الآلي"
            },
            {
                word: "التحيز",
                clue: "مشكلة أخلاقية في الذكاء الاصطناعي تؤدي لقرارات غير عادلة",
                hint: "عدم الحياد في القرارات",
                definition: "ميل النظام لاتخاذ قرارات منحازة أو غير عادلة بسبب البيانات المتحيزة أو الخوارزميات المعيبة"
            },
            {
                word: "البيانات الضخمة",
                clue: "كميات هائلة من المعلومات يصعب معالجتها بالطرق التقليدية",
                hint: "تحتاج لأدوات خاصة للتحليل",
                definition: "مجموعات بيانات كبيرة ومعقدة تتطلب تقنيات متقدمة لتخزينها ومعالجتها وتحليلها"
            }
        ];

        // متغيرات لعبة الكلمات المتقاطعة
        let crosswordCurrentIndex = 0;
        let crosswordSolvedCount = 0;
        let crosswordScore = 0;
        let crosswordGameActive = false;
        let hintsUsed = 0;
        let currentWordSolved = false;

        // متغيرات لعبة صح/خطأ
        let tfCurrentQuestionIndex = 0;
        let tfCorrectAnswers = 0;
        let tfScore = 0;
        let tfGameActive = false;
        let tfQuestionAnswered = false;

        // متغيرات لعبة المسابقة
        let quizCurrentQuestionIndex = 0;
        let team1Score = 0;
        let team2Score = 0;
        let quizTimeLeft = 10;
        let quizTimerInterval;
        let quizGameActive = false;
        let currentTeamTurn = null;
        let questionAnswered = false;

        // فتح وإغلاق الألعاب
        function openGame(gameType) {
            if (gameType === 'ladder') {
                document.getElementById('ladderGame').classList.add('active');
                initializeLadder();
            } else if (gameType === 'speed') {
                document.getElementById('speedGame').classList.add('active');
                updateSpeedScoreDisplay();
            } else if (gameType === 'crossword') {
                document.getElementById('crosswordGame').classList.add('active');
                updateCrosswordStats();
            } else if (gameType === 'challenge') {
                document.getElementById('challengeGame').classList.add('active');
                initializeChallenge();
            } else if (gameType === 'quiz') {
                document.getElementById('quizGame').classList.add('active');
                updateQuizScoreDisplay();
            } else if (gameType === 'group') {
                document.getElementById('groupGame').classList.add('active');
                initializeGroupGame();
            } else if (gameType === 'truefalse') {
                document.getElementById('trueFalseGame').classList.add('active');
                updateTrueFalseStats();
            } else if (gameType === 'buzz') {
                document.getElementById('buzzGame').classList.add('active');
                updateBuzzStats();
            } else if (gameType === 'matching') {
                document.getElementById('matchingGame').classList.add('active');
                updateMatchingStats();
            } else if (gameType === 'quiz-solo') {
                document.getElementById('quizSoloGame').classList.add('active');
                updateQuizSoloStats();
            }
        }

        function closeGame(gameType) {
            if (gameType === 'ladder') {
                document.getElementById('ladderGame').classList.remove('active');
                resetLadderGame();
            } else if (gameType === 'speed') {
                document.getElementById('speedGame').classList.remove('active');
                resetSpeedGame();
            } else if (gameType === 'crossword') {
                document.getElementById('crosswordGame').classList.remove('active');
                resetCrosswordGame();
            } else if (gameType === 'challenge') {
                document.getElementById('challengeGame').classList.remove('active');
            } else if (gameType === 'quiz') {
                document.getElementById('quizGame').classList.remove('active');
                resetQuizGame();
            } else if (gameType === 'group') {
                document.getElementById('groupGame').classList.remove('active');
                resetGroupGame();
            } else if (gameType === 'truefalse') {
                document.getElementById('trueFalseGame').classList.remove('active');
                resetTrueFalseGame();
            } else if (gameType === 'buzz') {
                document.getElementById('buzzGame').classList.remove('active');
                resetBuzzGame();
            } else if (gameType === 'matching') {
                document.getElementById('matchingGame').classList.remove('active');
                resetMatchingGame();
            } else if (gameType === 'quiz-solo') {
                document.getElementById('quizSoloGame').classList.remove('active');
                resetQuizSoloGame();
            }
        }

        // وظائف لعبة السلم
        function initializeLadder() {
            const ladder = document.getElementById('ladder');
            ladder.innerHTML = '';
            
            for (let i = 10; i >= 1; i--) {
                const step = document.createElement('div');
                step.className = 'step';
                step.id = `step-${i}`;
                step.onclick = () => startLadderQuestion(i);
                
                step.innerHTML = `
                    <div class="step-number">${i}</div>
                    <div class="step-icon">${i === 10 ? '👑' : i >= 7 ? '⭐' : i >= 4 ? '🎯' : '🚀'}</div>
                `;
                
                ladder.appendChild(step);
            }
        }

        function startLadderQuestion(stepNumber) {
            if (stepNumber !== ladderCurrentStep + 1 && stepNumber !== 1) return;
            
            ladderCurrentStep = stepNumber;
            ladderGameActive = true;
            updateLadderDisplay();
            showLadderQuestion();
        }

        function updateLadderDisplay() {
            for (let i = 1; i <= 10; i++) {
                const step = document.getElementById(`step-${i}`);
                step.className = 'step';
                
                if (i < ladderCurrentStep) {
                    step.classList.add('completed');
                } else if (i === ladderCurrentStep) {
                    step.classList.add('current');
                }
            }
        }

        function showLadderQuestion() {
            const questionIndex = ladderCurrentStep - 1;
            const question = ladderQuestions[questionIndex];
            
            document.getElementById('questionText').textContent = question.question;
            
            const answersGrid = document.getElementById('answersGrid');
            answersGrid.style.display = 'grid';
            answersGrid.innerHTML = '';
            
            question.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.className = 'answer-btn';
                button.textContent = answer;
                button.onclick = () => checkLadderAnswer(index, question.correct);
                answersGrid.appendChild(button);
            });
            
            document.getElementById('currentLevel').textContent = ladderCurrentStep;
        }

        function checkLadderAnswer(selectedIndex, correctIndex) {
            if (!ladderGameActive) return;
            
            ladderGameActive = false;
            const buttons = document.querySelectorAll('#answersGrid .answer-btn');
            const feedback = document.getElementById('feedback');
            
            buttons.forEach((btn, index) => {
                btn.disabled = true;
                if (index === correctIndex) {
                    btn.classList.add('correct');
                } else if (index === selectedIndex && index !== correctIndex) {
                    btn.classList.add('incorrect');
                }
            });
            
            if (selectedIndex === correctIndex) {
                ladderScore += 10;
                feedback.textContent = '🎉 إجابة صحيحة! تقدمي للأعلى!';
                feedback.className = 'feedback correct';
                
                setTimeout(() => {
                    if (ladderCurrentStep === 10) {
                        showLadderVictory();
                    } else {
                        prepareLadderNextQuestion();
                    }
                }, 2000);
            } else {
                if (ladderCurrentStep > 1) {
                    ladderCurrentStep--;
                    ladderScore = Math.max(0, ladderScore - 5);
                }
                feedback.textContent = '❌ إجابة خاطئة! انزلي درجة واحدة.';
                feedback.className = 'feedback incorrect';
                
                setTimeout(() => {
                    prepareLadderNextQuestion();
                }, 2000);
            }
            
            feedback.style.display = 'block';
            document.getElementById('score').textContent = ladderScore;
            updateLadderDisplay();
        }

        function prepareLadderNextQuestion() {
            document.getElementById('feedback').style.display = 'none';
            document.getElementById('answersGrid').style.display = 'none';
            
            if (ladderCurrentStep === 10) {
                showLadderVictory();
            } else {
                document.getElementById('questionText').textContent = `اضغطي على الدرجة ${ladderCurrentStep + 1} للمتابعة!`;
            }
        }

        function showLadderVictory() {
            document.getElementById('questionText').textContent = '🏆 مبروك! وصلتِ لقمة السلم! أنتِ بطلة الذكاء الاصطناعي!';
            document.getElementById('answersGrid').style.display = 'none';
            document.getElementById('feedback').style.display = 'none';
            
            const step10 = document.getElementById('step-10');
            step10.style.animation = 'pulse 0.5s infinite';
        }

        function resetLadderGame() {
            ladderCurrentStep = 0;
            ladderScore = 0;
            ladderGameActive = false;
            
            document.getElementById('questionText').textContent = 'اضغطي على الدرجة الأولى لبدء اللعبة! 🚀';
            document.getElementById('answersGrid').style.display = 'none';
            document.getElementById('feedback').style.display = 'none';
            document.getElementById('currentLevel').textContent = '0';
            document.getElementById('score').textContent = '0';
            
            for (let i = 1; i <= 10; i++) {
                const step = document.getElementById(`step-${i}`);
                if (step) {
                    step.className = 'step';
                    step.style.animation = '';
                }
            }
        }

        // وظائف مسابقة السرعة
        function startSpeedGame() {
            speedCurrentQuestionIndex = 0;
            speedCorrectAnswers = 0;
            speedTotalScore = 0;
            speedGameActive = true;
            speedGamePaused = false;
            
            document.getElementById('startBtn').style.display = 'none';
            document.getElementById('pauseBtn').style.display = 'inline-block';
            document.getElementById('speedFeedback').style.display = 'none';
            
            updateSpeedScoreDisplay();
            showSpeedQuestion();
        }

        function showSpeedQuestion() {
            if (speedCurrentQuestionIndex >= speedQuestions.length) {
                endSpeedGame();
                return;
            }

            const question = speedQuestions[speedCurrentQuestionIndex];
            speedTimeLeft = 15;
            
            document.getElementById('speedQuestionText').textContent = question.question;
            document.getElementById('currentQuestion').textContent = speedCurrentQuestionIndex + 1;
            
            const answersGrid = document.getElementById('speedAnswersGrid');
            answersGrid.style.display = 'grid';
            answersGrid.innerHTML = '';
            
            question.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.className = 'answer-btn';
                button.textContent = answer;
                button.onclick = () => selectSpeedAnswer(index);
                answersGrid.appendChild(button);
            });
            
            startSpeedTimer();
        }

        function startSpeedTimer() {
            const timerElement = document.getElementById('timer');
            timerElement.className = 'timer';
            
            speedTimerInterval = setInterval(() => {
                if (speedGamePaused) return;
                
                speedTimeLeft--;
                timerElement.textContent = speedTimeLeft;
                
                if (speedTimeLeft <= 5) {
                    timerElement.className = 'timer critical';
                } else if (speedTimeLeft <= 10) {
                    timerElement.className = 'timer warning';
                }
                
                if (speedTimeLeft <= 0) {
                    speedTimeUp();
                }
            }, 1000);
        }

        function selectSpeedAnswer(selectedIndex) {
            if (!speedGameActive || speedGamePaused) return;
            
            clearInterval(speedTimerInterval);
            speedGameActive = false;
            
            const question = speedQuestions[speedCurrentQuestionIndex];
            const buttons = document.querySelectorAll('#speedAnswersGrid .answer-btn');
            const feedback = document.getElementById('speedFeedback');
            
            buttons.forEach((btn, index) => {
                btn.disabled = true;
                if (index === question.correct) {
                    btn.classList.add('correct');
                } else if (index === selectedIndex && index !== question.correct) {
                    btn.classList.add('incorrect');
                }
            });
            
            if (selectedIndex === question.correct) {
                speedCorrectAnswers++;
                const timeBonus = Math.max(0, speedTimeLeft * 2);
                speedTotalScore += 100 + timeBonus;
                
                feedback.textContent = `🎉 إجابة صحيحة! (+${100 + timeBonus} نقطة)`;
                feedback.className = 'feedback correct';
            } else {
                feedback.textContent = '❌ إجابة خاطئة! الإجابة الصحيحة مُظللة باللون الأخضر';
                feedback.className = 'feedback incorrect';
            }
            
            feedback.style.display = 'block';
            updateSpeedScoreDisplay();
            
            setTimeout(() => {
                nextSpeedQuestion();
            }, 3000);
        }

        function speedTimeUp() {
            if (!speedGameActive) return;
            
            clearInterval(speedTimerInterval);
            speedGameActive = false;
            
            const question = speedQuestions[speedCurrentQuestionIndex];
            const buttons = document.querySelectorAll('#speedAnswersGrid .answer-btn');
            const feedback = document.getElementById('speedFeedback');
            
            buttons.forEach((btn, index) => {
                btn.disabled = true;
                if (index === question.correct) {
                    btn.classList.add('correct');
                }
            });
            
            feedback.textContent = '⏰ انتهى الوقت! الإجابة الصحيحة مُظللة باللون الأخضر';
            feedback.className = 'feedback timeout';
            feedback.style.display = 'block';
            
            setTimeout(() => {
                nextSpeedQuestion();
            }, 3000);
        }

        function nextSpeedQuestion() {
            speedCurrentQuestionIndex++;
            speedGameActive = true;
            document.getElementById('speedFeedback').style.display = 'none';
            
            if (speedCurrentQuestionIndex < speedQuestions.length) {
                showSpeedQuestion();
            } else {
                endSpeedGame();
            }
        }

        function endSpeedGame() {
            clearInterval(speedTimerInterval);
            speedGameActive = false;
            
            document.getElementById('startBtn').style.display = 'inline-block';
            document.getElementById('pauseBtn').style.display = 'none';
            
            const percentage = (speedCorrectAnswers / speedQuestions.length) * 100;
            let message = '';
            
            if (percentage === 100) {
                message = '🏆 ممتاز! إجابات صحيحة 100%! أنتِ بطلة السرعة!';
            } else if (percentage >= 70) {
                message = '🌟 أداء رائع! سرعة وذكاء في نفس الوقت!';
            } else if (percentage >= 50) {
                message = '👍 أداء جيد! يمكنك تحسين سرعتك أكثر!';
            } else {
                message = '💪 لا بأس! المهم المحاولة، جربي مرة أخرى!';
            }
            
            document.getElementById('speedQuestionText').textContent = `🏆 انتهت المسابقة! النتيجة النهائية: ${speedTotalScore} نقطة. ${message}`;
            document.getElementById('speedAnswersGrid').style.display = 'none';
        }

        function pauseGame() {
            if (!speedGameActive) return;
            
            speedGamePaused = !speedGamePaused;
            const pauseBtn = document.getElementById('pauseBtn');
            
            if (speedGamePaused) {
                pauseBtn.textContent = '▶️ متابعة';
                document.getElementById('timer').style.opacity = '0.5';
            } else {
                pauseBtn.textContent = '⏸️ إيقاف مؤقت';
                document.getElementById('timer').style.opacity = '1';
            }
        }

        function resetSpeedGame() {
            clearInterval(speedTimerInterval);
            speedCurrentQuestionIndex = 0;
            speedCorrectAnswers = 0;
            speedTotalScore = 0;
            speedTimeLeft = 15;
            speedGameActive = false;
            speedGamePaused = false;
            
            document.getElementById('timer').textContent = '15';
            document.getElementById('timer').className = 'timer';
            document.getElementById('startBtn').style.display = 'inline-block';
            document.getElementById('pauseBtn').style.display = 'none';
            document.getElementById('speedFeedback').style.display = 'none';
            document.getElementById('speedAnswersGrid').style.display = 'none';
            
            document.getElementById('speedQuestionText').textContent = 'اضغطي "ابدأ المسابقة" للبدء!';
            
            updateSpeedScoreDisplay();
        }

        function updateSpeedScoreDisplay() {
            document.getElementById('correctAnswers').textContent = speedCorrectAnswers;
            document.getElementById('totalScore').textContent = speedTotalScore;
        }

        // وظائف لعبة التحدي
        function initializeChallenge() {
            const container = document.getElementById('challengeContainer');
            container.innerHTML = '';
            
            challengeQuestions.forEach((challenge, index) => {
                const card = document.createElement('div');
                card.className = 'challenge-card';
                card.id = `challenge-${index}`;
                
                card.innerHTML = `
                    <div class="challenge-number">بطاقة ${index + 1}</div>
                    <div class="challenge-question">${challenge.question}</div>
                    <textarea 
                        class="challenge-textarea" 
                        placeholder="${challenge.placeholder}"
                        oninput="updateChallengeAnswer(${index}, this.value)"
                    >${challengeAnswers[index]}</textarea>
                `;
                
                container.appendChild(card);
            });
            
            updateChallengeProgress();
        }

        function updateChallengeAnswer(index, value) {
            challengeAnswers[index] = value;
            updateChallengeProgress();
            
            // تحديث مظهر البطاقة
            const card = document.getElementById(`challenge-${index}`);
            if (value.trim().length > 10) {
                card.classList.add('active');
            } else {
                card.classList.remove('active');
            }
        }

        function updateChallengeProgress() {
            const completedCards = challengeAnswers.filter(answer => answer.trim().length > 10).length;
            challengeProgress = (completedCards / challengeQuestions.length) * 100;
            
            document.getElementById('progressFill').style.width = challengeProgress + '%';
        }

        function saveProgress() {
            const completedCards = challengeAnswers.filter(answer => answer.trim().length > 10).length;
            
            if (completedCards === 0) {
                alert('🤔 لم تكملي أي بطاقة بعد! ابدئي بالكتابة في البطاقات.');
                return;
            }
            
            alert(`✅ تم حفظ تقدمك! أكملتِ ${completedCards} من ${challengeQuestions.length} بطاقات.`);
        }

        function showSummary() {
            const completedCards = challengeAnswers.filter(answer => answer.trim().length > 10).length;
            
            if (completedCards === 0) {
                alert('📝 لم تكتبي أي إجابات بعد! ابدئي بالإجابة على البطاقات لرؤية الملخص.');
                return;
            }
            
            let summary = '📋 ملخص إجاباتك:\n\n';
            
            challengeQuestions.forEach((question, index) => {
                if (challengeAnswers[index].trim().length > 10) {
                    summary += `🔹 ${question.question}\n`;
                    summary += `الإجابة: ${challengeAnswers[index].substring(0, 100)}${challengeAnswers[index].length > 100 ? '...' : ''}\n\n`;
                }
            });
            
            summary += `✨ أكملتِ ${completedCards} من ${challengeQuestions.length} بطاقات!`;
            
            alert(summary);
        }

        function resetChallengeGame() {
            if (challengeAnswers.some(answer => answer.trim().length > 0)) {
                if (!confirm('هل أنتِ متأكدة من حذف جميع الإجابات والبدء من جديد؟')) {
                    return;
                }
            }
            
            challengeAnswers = ['', '', '', ''];
            challengeProgress = 0;
            initializeChallenge();
        }

        // وظائف مسابقة أبطال الذكاء الاصطناعي
        function startQuizGame() {
            quizCurrentQuestionIndex = 0;
            team1Score = 0;
            team2Score = 0;
            quizGameActive = true;
            questionAnswered = false;
            
            document.getElementById('quizStartBtn').style.display = 'none';
            document.getElementById('quizNextBtn').style.display = 'none';
            document.getElementById('quizFeedback').style.display = 'none';
            
            updateQuizScoreDisplay();
            showQuizQuestion();
        }

        function showQuizQuestion() {
            if (quizCurrentQuestionIndex >= quizQuestions.length) {
                endQuizGame();
                return;
            }

            const question = quizQuestions[quizCurrentQuestionIndex];
            questionAnswered = false;
            currentTeamTurn = null;
            
            // إعادة تعيين حالة الفرق
            document.getElementById('team1Card').classList.remove('active');
            document.getElementById('team2Card').classList.remove('active');
            document.getElementById('team1Status').textContent = 'جاهز للإجابة';
            document.getElementById('team2Status').textContent = 'جاهز للإجابة';
            
            document.getElementById('quizQuestionText').textContent = question.question;
            
            // إخفاء جميع أنواع الإجابات أولاً
            document.getElementById('quizAnswersGrid').style.display = 'none';
            document.getElementById('trueFalseContainer').style.display = 'none';
            
            if (question.type === 'multiple') {
                showMultipleChoiceAnswers(question);
            } else if (question.type === 'trueFalse') {
                showTrueFalseAnswers(question);
            }
            
            startQuizTimer();
        }

        function showMultipleChoiceAnswers(question) {
            const answersGrid = document.getElementById('quizAnswersGrid');
            answersGrid.style.display = 'grid';
            answersGrid.innerHTML = '';
            
            question.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.className = 'quiz-answer-btn';
                button.textContent = answer;
                button.onclick = () => selectQuizAnswer(index, question.correct, 'multiple');
                answersGrid.appendChild(button);
            });
        }

        function showTrueFalseAnswers(question) {
            const container = document.getElementById('trueFalseContainer');
            container.style.display = 'grid';
            container.innerHTML = '';
            
            const trueBtn = document.createElement('button');
            trueBtn.className = 'true-false-btn true';
            trueBtn.innerHTML = '<span>✓</span><span>صح</span>';
            trueBtn.onclick = () => selectQuizAnswer(true, question.correct, 'trueFalse');
            
            const falseBtn = document.createElement('button');
            falseBtn.className = 'true-false-btn false';
            falseBtn.innerHTML = '<span>✗</span><span>خطأ</span>';
            falseBtn.onclick = () => selectQuizAnswer(false, question.correct, 'trueFalse');
            
            container.appendChild(trueBtn);
            container.appendChild(falseBtn);
        }

        function startQuizTimer() {
            quizTimeLeft = 10;
            const timerElement = document.getElementById('quizTimer');
            timerElement.style.display = 'block';
            timerElement.className = 'quiz-timer';
            timerElement.textContent = quizTimeLeft;
            
            quizTimerInterval = setInterval(() => {
                quizTimeLeft--;
                timerElement.textContent = quizTimeLeft;
                
                if (quizTimeLeft <= 3) {
                    timerElement.className = 'quiz-timer warning';
                }
                
                if (quizTimeLeft <= 0) {
                    quizTimeUp();
                }
            }, 1000);
        }

        function selectQuizAnswer(selectedAnswer, correctAnswer, questionType) {
            if (!quizGameActive || questionAnswered) return;
            
            clearInterval(quizTimerInterval);
            questionAnswered = true;
            
            // تحديد الفريق الذي أجاب أولاً (عشوائياً للمحاكاة)
            const respondingTeam = Math.random() < 0.5 ? 1 : 2;
            currentTeamTurn = respondingTeam;
            
            // تحديث حالة الفرق
            if (respondingTeam === 1) {
                document.getElementById('team1Card').classList.add('active');
                document.getElementById('team1Status').textContent = 'أجاب أولاً!';
                document.getElementById('team2Status').textContent = 'متأخر';
            } else {
                document.getElementById('team2Card').classList.add('active');
                document.getElementById('team2Status').textContent = 'أجاب أولاً!';
                document.getElementById('team1Status').textContent = 'متأخر';
            }
            
            // التحقق من صحة الإجابة
            let isCorrect = false;
            if (questionType === 'multiple') {
                isCorrect = selectedAnswer === correctAnswer;
            } else if (questionType === 'trueFalse') {
                isCorrect = selectedAnswer === correctAnswer;
            }
            
            // تحديث النقاط والتغذية الراجعة
            const feedback = document.getElementById('quizFeedback');
            const buttons = document.querySelectorAll('.quiz-answer-btn, .true-false-btn');
            
            if (isCorrect) {
                if (respondingTeam === 1) {
                    team1Score += 100;
                    feedback.textContent = '🎉 الفريق الأزرق يحصل على 100 نقطة!';
                    feedback.className = 'quiz-feedback team1-correct';
                } else {
                    team2Score += 100;
                    feedback.textContent = '🎉 الفريق الأحمر يحصل على 100 نقطة!';
                    feedback.className = 'quiz-feedback team2-correct';
                }
                
                // تمييز الإجابة الصحيحة
                buttons.forEach((btn, index) => {
                    if (questionType === 'multiple' && index === correctAnswer) {
                        btn.classList.add('correct');
                    } else if (questionType === 'trueFalse') {
                        if ((correctAnswer === true && btn.classList.contains('true')) ||
                            (correctAnswer === false && btn.classList.contains('false'))) {
                            btn.classList.add('correct');
                        }
                    }
                });
            } else {
                feedback.textContent = `❌ إجابة خاطئة من الفريق ${respondingTeam === 1 ? 'الأزرق' : 'الأحمر'}! لا نقاط هذه المرة.`;
                feedback.className = 'quiz-feedback timeout';
                
                // تمييز الإجابة الصحيحة والخاطئة
                buttons.forEach((btn, index) => {
                    if (questionType === 'multiple') {
                        if (index === correctAnswer) {
                            btn.classList.add('correct');
                        } else if (index === selectedAnswer) {
                            btn.classList.add('incorrect');
                        }
                    } else if (questionType === 'trueFalse') {
                        if ((correctAnswer === true && btn.classList.contains('true')) ||
                            (correctAnswer === false && btn.classList.contains('false'))) {
                            btn.classList.add('correct');
                        } else if ((selectedAnswer === true && btn.classList.contains('true')) ||
                                 (selectedAnswer === false && btn.classList.contains('false'))) {
                            btn.classList.add('incorrect');
                        }
                    }
                });
            }
            
            // تعطيل جميع الأزرار
            buttons.forEach(btn => btn.disabled = true);
            
            feedback.style.display = 'block';
            updateQuizScoreDisplay();
            
            // إظهار زر السؤال التالي
            setTimeout(() => {
                document.getElementById('quizNextBtn').style.display = 'inline-block';
            }, 2000);
        }

        function quizTimeUp() {
            if (!quizGameActive || questionAnswered) return;
            
            clearInterval(quizTimerInterval);
            questionAnswered = true;
            
            const feedback = document.getElementById('quizFeedback');
            feedback.textContent = '⏰ انتهى الوقت! لم يجب أي فريق في الوقت المحدد.';
            feedback.className = 'quiz-feedback timeout';
            feedback.style.display = 'block';
            
            // تمييز الإجابة الصحيحة
            const question = quizQuestions[quizCurrentQuestionIndex];
            const buttons = document.querySelectorAll('.quiz-answer-btn, .true-false-btn');
            
            buttons.forEach((btn, index) => {
                btn.disabled = true;
                if (question.type === 'multiple' && index === question.correct) {
                    btn.classList.add('correct');
                } else if (question.type === 'trueFalse') {
                    if ((question.correct === true && btn.classList.contains('true')) ||
                        (question.correct === false && btn.classList.contains('false'))) {
                        btn.classList.add('correct');
                    }
                }
            });
            
            setTimeout(() => {
                document.getElementById('quizNextBtn').style.display = 'inline-block';
            }, 2000);
        }

        function nextQuizQuestion() {
            quizCurrentQuestionIndex++;
            document.getElementById('quizFeedback').style.display = 'none';
            document.getElementById('quizNextBtn').style.display = 'none';
            document.getElementById('quizTimer').style.display = 'none';
            
            if (quizCurrentQuestionIndex < quizQuestions.length) {
                showQuizQuestion();
            } else {
                endQuizGame();
            }
        }

        function endQuizGame() {
            clearInterval(quizTimerInterval);
            quizGameActive = false;
            
            document.getElementById('quizStartBtn').style.display = 'inline-block';
            document.getElementById('quizNextBtn').style.display = 'none';
            document.getElementById('quizTimer').style.display = 'none';
            document.getElementById('quizAnswersGrid').style.display = 'none';
            document.getElementById('trueFalseContainer').style.display = 'none';
            
            // تحديد الفائز
            let winnerMessage = '';
            if (team1Score > team2Score) {
                winnerMessage = '🏆 الفريق الأزرق هو البطل! تهانينا!';
                document.getElementById('team1Card').classList.add('active');
            } else if (team2Score > team1Score) {
                winnerMessage = '🏆 الفريق الأحمر هو البطل! تهانينا!';
                document.getElementById('team2Card').classList.add('active');
            } else {
                winnerMessage = '🤝 تعادل! كلا الفريقين أبطال!';
                document.getElementById('team1Card').classList.add('active');
                document.getElementById('team2Card').classList.add('active');
            }
            
            document.getElementById('quizQuestionText').textContent = `🏁 انتهت المسابقة! ${winnerMessage}`;
            
            const feedback = document.getElementById('quizFeedback');
            feedback.textContent = `النتيجة النهائية: الفريق الأزرق ${team1Score} - ${team2Score} الفريق الأحمر`;
            feedback.className = 'quiz-feedback timeout';
            feedback.style.display = 'block';
        }

        function resetQuizGame() {
            clearInterval(quizTimerInterval);
            quizCurrentQuestionIndex = 0;
            team1Score = 0;
            team2Score = 0;
            quizTimeLeft = 10;
            quizGameActive = false;
            currentTeamTurn = null;
            questionAnswered = false;
            
            document.getElementById('quizStartBtn').style.display = 'inline-block';
            document.getElementById('quizNextBtn').style.display = 'none';
            document.getElementById('quizTimer').style.display = 'none';
            document.getElementById('quizFeedback').style.display = 'none';
            document.getElementById('quizAnswersGrid').style.display = 'none';
            document.getElementById('trueFalseContainer').style.display = 'none';
            
            document.getElementById('quizQuestionText').textContent = 'اضغطي "ابدأ المسابقة" لبدء التنافس!';
            
            // إعادة تعيين حالة الفرق
            document.getElementById('team1Card').classList.remove('active');
            document.getElementById('team2Card').classList.remove('active');
            document.getElementById('team1Status').textContent = 'جاهز للبدء';
            document.getElementById('team2Status').textContent = 'جاهز للبدء';
            
            updateQuizScoreDisplay();
        }

        function updateQuizScoreDisplay() {
            document.getElementById('team1Score').textContent = team1Score;
            document.getElementById('team2Score').textContent = team2Score;
        }

        // وظائف النشاط الجماعي
        function initializeGroupGame() {
            // إنشاء ترتيب البطاقات
            groupCardsOrder = Array.from({length: groupCards.length}, (_, i) => i);
            currentGroupCardIndex = 0;
            isCardRevealed = false;
            
            // تحديث العرض
            updateGroupStats();
            resetCardDisplay();
            closeDiscussion();
        }

        function updateGroupStats() {
            document.getElementById('currentCardNumber').textContent = currentGroupCardIndex + 1;
            document.getElementById('totalCards').textContent = groupCards.length;
            
            if (groupCardsOrder.length > 0) {
                const currentCard = groupCards[groupCardsOrder[currentGroupCardIndex]];
                const typeText = currentCard.type === 'question' ? 'سؤال' : 
                               currentCard.type === 'symbol' ? 'رمز' : 'أخلاقيات';
                document.getElementById('cardType').textContent = typeText;
            }
        }

        function drawRandomCard() {
            // اختيار بطاقة عشوائية
            currentGroupCardIndex = Math.floor(Math.random() * groupCards.length);
            showCurrentCard();
        }

        function nextCard() {
            currentGroupCardIndex = (currentGroupCardIndex + 1) % groupCards.length;
            showCurrentCard();
        }

        function shuffleCards() {
            // خلط ترتيب البطاقات
            for (let i = groupCardsOrder.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [groupCardsOrder[i], groupCardsOrder[j]] = [groupCardsOrder[j], groupCardsOrder[i]];
            }
            
            currentGroupCardIndex = 0;
            showCurrentCard();
            
            // تأثير بصري للخلط
            const card = document.getElementById('groupCard');
            card.style.transform = 'rotateY(180deg)';
            setTimeout(() => {
                card.style.transform = 'rotateY(0deg)';
            }, 300);
        }

        function showCurrentCard() {
            const card = groupCards[groupCardsOrder[currentGroupCardIndex]];
            isCardRevealed = false;
            
            // إعادة تعيين عرض البطاقة
            resetCardDisplay();
            
            // تحديث المحتوى
            document.getElementById('cardQuestion').textContent = card.question;
            
            // تحديث نوع البطاقة
            const typeEmoji = card.type === 'question' ? '💭' : 
                             card.type === 'symbol' ? '🎯' : '⚖️';
            const typeText = card.type === 'question' ? 'سؤال' : 
                           card.type === 'symbol' ? 'رمز' : 'أخلاقيات';
            
            document.getElementById('cardTypeBadge').textContent = `${typeEmoji} ${typeText}`;
            
            // إظهار الأزرار المناسبة
            if (card.type === 'symbol') {
                document.getElementById('cardIcon').textContent = card.icon;
                document.getElementById('cardIcon').style.display = 'block';
                document.getElementById('revealBtn').style.display = 'none';
            } else {
                document.getElementById('revealBtn').style.display = 'inline-block';
            }
            
            document.querySelector('.card-action-btn.discuss').style.display = 'inline-block';
            
            // تحديث الإحصائيات
            updateGroupStats();
            
            // تأثير بصري للانتقال
            const cardElement = document.getElementById('groupCard');
            cardElement.style.transform = 'scale(0.95)';
            setTimeout(() => {
                cardElement.style.transform = 'scale(1)';
            }, 200);
        }

        function revealAnswer() {
            if (isCardRevealed) return;
            
            const card = groupCards[groupCardsOrder[currentGroupCardIndex]];
            
            if (card.answer) {
                document.getElementById('cardAnswer').textContent = card.answer;
                document.getElementById('cardAnswer').style.display = 'block';
                
                document.getElementById('revealBtn').textContent = '✅ تم الكشف';
                document.getElementById('revealBtn').disabled = true;
                document.getElementById('revealBtn').style.opacity = '0.6';
                
                document.getElementById('groupCard').classList.add('revealed');
                isCardRevealed = true;
            }
        }

        function startDiscussion() {
            const card = groupCards[groupCardsOrder[currentGroupCardIndex]];
            
            document.getElementById('discussionTips').textContent = card.discussion;
            document.getElementById('discussionPanel').style.display = 'block';
            
            // تمرير سلس للنقاش
            document.getElementById('discussionPanel').scrollIntoView({ 
                behavior: 'smooth', 
                block: 'center' 
            });
        }

        function closeDiscussion() {
            document.getElementById('discussionPanel').style.display = 'none';
        }

        function resetCardDisplay() {
            document.getElementById('cardAnswer').style.display = 'none';
            document.getElementById('cardIcon').style.display = 'none';
            document.getElementById('revealBtn').style.display = 'none';
            document.querySelector('.card-action-btn.discuss').style.display = 'none';
            
            document.getElementById('revealBtn').textContent = '🔍 اكشفي الإجابة';
            document.getElementById('revealBtn').disabled = false;
            document.getElementById('revealBtn').style.opacity = '1';
            
            document.getElementById('groupCard').classList.remove('revealed');
            
            closeDiscussion();
        }

        function resetGroupGame() {
            initializeGroupGame();
            document.getElementById('cardQuestion').textContent = 'اضغطي "بطاقة عشوائية" لبدء النشاط!';
            document.getElementById('cardTypeBadge').textContent = '💭 سؤال';
        }

        // وظائف لعبة الكلمات المتقاطعة
        function startCrosswordGame() {
            crosswordCurrentIndex = 0;
            crosswordSolvedCount = 0;
            crosswordScore = 0;
            crosswordGameActive = true;
            hintsUsed = 0;
            currentWordSolved = false;
            
            document.getElementById('startCrosswordBtn').style.display = 'none';
            document.getElementById('hintBtn').style.display = 'inline-block';
            document.getElementById('skipBtn').style.display = 'inline-block';
            
            updateCrosswordStats();
            showCurrentWord();
        }

        function showCurrentWord() {
            if (crosswordCurrentIndex >= crosswordWords.length) {
                endCrosswordGame();
                return;
            }

            const currentWord = crosswordWords[crosswordCurrentIndex];
            currentWordSolved = false;
            
            // إخفاء العناصر المؤقتة
            document.getElementById('hintDisplay').style.display = 'none';
            document.getElementById('wordDefinition').style.display = 'none';
            document.getElementById('crosswordFeedback').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'none';
            
            // إظهار التلميح
            document.getElementById('wordClue').textContent = currentWord.clue;
            
            // إنشاء صناديق الحروف
            createLetterBoxes(currentWord.word);
            
            // إعداد حقل الإدخال
            const input = document.getElementById('wordInput');
            input.style.display = 'block';
            input.value = '';
            input.className = 'word-input';
            input.focus();
            
            // إضافة مستمع للإدخال
            input.onkeyup = function(event) {
                if (event.key === 'Enter') {
                    checkAnswer();
                } else {
                    updateLetterBoxes(this.value, currentWord.word);
                }
            };
            
            updateCrosswordStats();
        }

        function createLetterBoxes(word) {
            const display = document.getElementById('wordDisplay');
            display.style.display = 'flex';
            display.innerHTML = '';
            
            for (let i = 0; i < word.length; i++) {
                const box = document.createElement('div');
                box.className = 'letter-box';
                box.id = `letter-${i}`;
                display.appendChild(box);
            }
        }

        function updateLetterBoxes(input, correctWord) {
            const normalizedInput = input.toUpperCase().trim();
            const normalizedCorrect = correctWord.toUpperCase();
            
            for (let i = 0; i < correctWord.length; i++) {
                const box = document.getElementById(`letter-${i}`);
                if (i < normalizedInput.length) {
                    box.textContent = normalizedInput[i];
                    box.className = 'letter-box filled';
                } else {
                    box.textContent = '';
                    box.className = 'letter-box';
                }
            }
        }

        function checkAnswer() {
            if (!crosswordGameActive || currentWordSolved) return;
            
            const input = document.getElementById('wordInput');
            const userAnswer = input.value.trim().toUpperCase();
            const correctAnswer = crosswordWords[crosswordCurrentIndex].word.toUpperCase();
            const feedback = document.getElementById('crosswordFeedback');
            
            if (userAnswer === correctAnswer) {
                // إجابة صحيحة
                currentWordSolved = true;
                crosswordSolvedCount++;
                crosswordScore += Math.max(100 - (hintsUsed * 20), 50);
                
                // تحديث مظهر الصناديق
                for (let i = 0; i < correctAnswer.length; i++) {
                    const box = document.getElementById(`letter-${i}`);
                    box.className = 'letter-box correct';
                }
                
                // تحديث مظهر البطاقة والإدخال
                document.getElementById('wordCard').classList.add('solved');
                input.classList.add('correct');
                input.disabled = true;
                
                // إظهار التعريف
                document.getElementById('wordDefinition').textContent = crosswordWords[crosswordCurrentIndex].definition;
                document.getElementById('wordDefinition').style.display = 'block';
                
                feedback.textContent = `🎉 ممتاز! حصلتِ على ${Math.max(100 - (hintsUsed * 20), 50)} نقطة!`;
                feedback.className = 'crossword-feedback correct';
                feedback.style.display = 'block';
                
                // إظهار زر التالي
                setTimeout(() => {
                    document.getElementById('nextBtn').style.display = 'inline-block';
                }, 1500);
                
            } else if (userAnswer.length > 0) {
                // إجابة خاطئة
                feedback.textContent = '❌ إجابة خاطئة! حاولي مرة أخرى أو استخدمي التلميح.';
                feedback.className = 'crossword-feedback incorrect';
                feedback.style.display = 'block';
                
                // تأثير اهتزاز للإدخال
                input.style.animation = 'shake 0.5s ease';
                setTimeout(() => {
                    input.style.animation = '';
                }, 500);
            }
            
            updateCrosswordStats();
        }

        function showHint() {
            if (!crosswordGameActive || currentWordSolved) return;
            
            const hint = crosswordWords[crosswordCurrentIndex].hint;
            document.getElementById('hintDisplay').textContent = `💡 تلميح: ${hint}`;
            document.getElementById('hintDisplay').style.display = 'block';
            
            hintsUsed++;
            
            const feedback = document.getElementById('crosswordFeedback');
            feedback.textContent = 'استخدمتِ تلميحاً! سيتم خصم 20 نقطة من النتيجة.';
            feedback.className = 'crossword-feedback hint';
            feedback.style.display = 'block';
            
            setTimeout(() => {
                feedback.style.display = 'none';
            }, 3000);
        }

        function skipWord() {
            if (!crosswordGameActive) return;
            
            const feedback = document.getElementById('crosswordFeedback');
            feedback.textContent = `تم تخطي الكلمة. الإجابة الصحيحة: ${crosswordWords[crosswordCurrentIndex].word}`;
            feedback.className = 'crossword-feedback incorrect';
            feedback.style.display = 'block';
            
            // إظهار التعريف
            document.getElementById('wordDefinition').textContent = crosswordWords[crosswordCurrentIndex].definition;
            document.getElementById('wordDefinition').style.display = 'block';
            
            setTimeout(() => {
                nextWord();
            }, 3000);
        }

        function nextWord() {
            crosswordCurrentIndex++;
            hintsUsed = 0;
            
            // إعادة تعيين مظهر البطاقة
            document.getElementById('wordCard').classList.remove('solved');
            document.getElementById('wordInput').classList.remove('correct');
            document.getElementById('wordInput').disabled = false;
            
            if (crosswordCurrentIndex < crosswordWords.length) {
                showCurrentWord();
            } else {
                endCrosswordGame();
            }
        }

        function endCrosswordGame() {
            crosswordGameActive = false;
            
            document.getElementById('startCrosswordBtn').style.display = 'inline-block';
            document.getElementById('hintBtn').style.display = 'none';
            document.getElementById('skipBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'none';
            
            document.getElementById('wordDisplay').style.display = 'none';
            document.getElementById('wordInput').style.display = 'none';
            document.getElementById('hintDisplay').style.display = 'none';
            document.getElementById('wordDefinition').style.display = 'none';
            
            const percentage = (crosswordSolvedCount / crosswordWords.length) * 100;
            let message = '';
            
            if (percentage === 100) {
                message = '🏆 مذهل! حللتِ جميع الكلمات! أنتِ خبيرة في مصطلحات الذكاء الاصطناعي!';
            } else if (percentage >= 70) {
                message = '🌟 أداء ممتاز! معرفتك بالمصطلحات رائعة!';
            } else if (percentage >= 50) {
                message = '👍 أداء جيد! تحتاجين لمراجعة بعض المصطلحات.';
            } else {
                message = '💪 لا بأس! المهم التعلم، جربي مرة أخرى!';
            }
            
            document.getElementById('wordClue').textContent = `🏁 انتهت اللعبة! حللتِ ${crosswordSolvedCount} من ${crosswordWords.length} كلمات. ${message}`;
            
            const feedback = document.getElementById('crosswordFeedback');
            feedback.textContent = `النتيجة النهائية: ${crosswordScore} نقطة`;
            feedback.className = 'crossword-feedback correct';
            feedback.style.display = 'block';
        }

        function resetCrosswordGame() {
            crosswordCurrentIndex = 0;
            crosswordSolvedCount = 0;
            crosswordScore = 0;
            crosswordGameActive = false;
            hintsUsed = 0;
            currentWordSolved = false;
            
            document.getElementById('startCrosswordBtn').style.display = 'inline-block';
            document.getElementById('hintBtn').style.display = 'none';
            document.getElementById('skipBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'none';
            
            document.getElementById('wordDisplay').style.display = 'none';
            document.getElementById('wordInput').style.display = 'none';
            document.getElementById('hintDisplay').style.display = 'none';
            document.getElementById('wordDefinition').style.display = 'none';
            document.getElementById('crosswordFeedback').style.display = 'none';
            
            document.getElementById('wordClue').textContent = 'اضغطي "ابدأ اللعبة" لبدء التحدي!';
            document.getElementById('wordCard').classList.remove('solved');
            
            const input = document.getElementById('wordInput');
            input.value = '';
            input.className = 'word-input';
            input.disabled = false;
            
            updateCrosswordStats();
        }

        function updateCrosswordStats() {
            document.getElementById('currentWordNumber').textContent = crosswordCurrentIndex + 1;
            document.getElementById('solvedWords').textContent = crosswordSolvedCount;
            document.getElementById('crosswordScore').textContent = crosswordScore;
        }

        // وظائف لعبة صح/خطأ
        function startTrueFalseGame() {
            tfCurrentQuestionIndex = 0;
            tfCorrectAnswers = 0;
            tfScore = 0;
            tfGameActive = true;
            tfQuestionAnswered = false;
            
            document.getElementById('tfStartBtn').style.display = 'none';
            document.getElementById('tfNextBtn').style.display = 'none';
            document.getElementById('tfFeedback').style.display = 'none';
            document.getElementById('tfExplanation').style.display = 'none';
            
            updateTrueFalseStats();
            showTrueFalseQuestion();
        }

        function showTrueFalseQuestion() {
            if (tfCurrentQuestionIndex >= trueFalseQuestions.length) {
                endTrueFalseGame();
                return;
            }

            const question = trueFalseQuestions[tfCurrentQuestionIndex];
            tfQuestionAnswered = false;
            
            // إعادة تعيين مظهر البطاقة والأزرار
            document.getElementById('tfQuestionCard').className = 'truefalse-question-card';
            document.getElementById('tfExplanation').style.display = 'none';
            document.getElementById('tfFeedback').style.display = 'none';
            document.getElementById('tfNextBtn').style.display = 'none';
            
            // إعادة تعيين الأزرار
            const buttons = document.querySelectorAll('.truefalse-option');
            buttons.forEach(btn => {
                btn.disabled = false;
                btn.className = btn.classList.contains('true') ? 'truefalse-option true' : 'truefalse-option false';
            });
            
            // عرض السؤال والأزرار
            document.getElementById('tfQuestionText').textContent = question.question;
            document.getElementById('tfButtons').style.display = 'grid';
            
            updateTrueFalseStats();
        }

        function selectTrueFalseAnswer(selectedAnswer) {
            if (!tfGameActive || tfQuestionAnswered) return;
            
            tfQuestionAnswered = true;
            const question = trueFalseQuestions[tfCurrentQuestionIndex];
            const isCorrect = selectedAnswer === question.answer;
            
            const buttons = document.querySelectorAll('.truefalse-option');
            const feedback = document.getElementById('tfFeedback');
            const explanation = document.getElementById('tfExplanation');
            const questionCard = document.getElementById('tfQuestionCard');
            
            // تعطيل جميع الأزرار وتحديد المظهر
            buttons.forEach(btn => {
                btn.disabled = true;
                const isTrue = btn.classList.contains('true');
                const wasSelected = (isTrue && selectedAnswer === true) || (!isTrue && selectedAnswer === false);
                
                if (wasSelected) {
                    if (isCorrect) {
                        btn.classList.add('selected-correct');
                    } else {
                        btn.classList.add('selected-incorrect');
                    }
                } else {
                    btn.classList.add('not-selected');
                }
            });
            
            // تحديث النقاط والإحصائيات
            if (isCorrect) {
                tfCorrectAnswers++;
                tfScore += 100;
                
                feedback.textContent = '🎉 إجابة صحيحة! أحسنتِ!';
                feedback.className = 'truefalse-feedback correct';
                
                questionCard.classList.add('correct');
                explanation.className = 'truefalse-explanation correct';
            } else {
                feedback.textContent = '❌ إجابة خاطئة! لا بأس، تعلمي من الخطأ.';
                feedback.className = 'truefalse-feedback incorrect';
                
                questionCard.classList.add('incorrect');
                explanation.className = 'truefalse-explanation incorrect';
            }
            
            // إظهار التفسير والتغذية الراجعة
            explanation.textContent = question.explanation;
            explanation.style.display = 'block';
            feedback.style.display = 'block';
            
            updateTrueFalseStats();
            
            // إظهار زر السؤال التالي
            setTimeout(() => {
                document.getElementById('tfNextBtn').style.display = 'inline-block';
            }, 2000);
        }

        function nextTrueFalseQuestion() {
            tfCurrentQuestionIndex++;
            
            if (tfCurrentQuestionIndex < trueFalseQuestions.length) {
                showTrueFalseQuestion();
            } else {
                endTrueFalseGame();
            }
        }

        function endTrueFalseGame() {
            tfGameActive = false;
            
            document.getElementById('tfStartBtn').style.display = 'inline-block';
            document.getElementById('tfNextBtn').style.display = 'none';
            document.getElementById('tfButtons').style.display = 'none';
            document.getElementById('tfExplanation').style.display = 'none';
            
            const percentage = (tfCorrectAnswers / trueFalseQuestions.length) * 100;
            let message = '';
            
            if (percentage === 100) {
                message = '🏆 مذهل! إجابات صحيحة 100%! أنتِ خبيرة في الذكاء الاصطناعي!';
            } else if (percentage >= 80) {
                message = '🌟 ممتاز! معرفتك قوية جداً!';
            } else if (percentage >= 60) {
                message = '👍 جيد جداً! تحتاجين لمراجعة بعض المفاهيم.';
            } else if (percentage >= 40) {
                message = '📚 لا بأس! اقرئي أكثر عن الذكاء الاصطناعي.';
            } else {
                message = '💪 لا تيأسي! المهم التعلم، جربي مرة أخرى!';
            }
            
            document.getElementById('tfQuestionText').textContent = `🏁 انتهت اللعبة! أجبتِ على ${tfCorrectAnswers} من ${trueFalseQuestions.length} أسئلة بشكل صحيح. ${message}`;
            
            const feedback = document.getElementById('tfFeedback');
            feedback.textContent = `النتيجة النهائية: ${tfScore} نقطة (${percentage.toFixed(0)}%)`;
            feedback.className = percentage >= 60 ? 'truefalse-feedback correct' : 'truefalse-feedback incorrect';
            feedback.style.display = 'block';
            
            document.getElementById('tfQuestionCard').className = 'truefalse-question-card';
        }

        function resetTrueFalseGame() {
            tfCurrentQuestionIndex = 0;
            tfCorrectAnswers = 0;
            tfScore = 0;
            tfGameActive = false;
            tfQuestionAnswered = false;
            
            document.getElementById('tfStartBtn').style.display = 'inline-block';
            document.getElementById('tfNextBtn').style.display = 'none';
            document.getElementById('tfButtons').style.display = 'none';
            document.getElementById('tfExplanation').style.display = 'none';
            document.getElementById('tfFeedback').style.display = 'none';
            
            document.getElementById('tfQuestionText').textContent = 'اضغطي "ابدأ اللعبة" لبدء التحدي!';
            document.getElementById('tfQuestionCard').className = 'truefalse-question-card';
            
            // إعادة تعيين الأزرار
            const buttons = document.querySelectorAll('.truefalse-option');
            buttons.forEach(btn => {
                btn.disabled = false;
                btn.className = btn.classList.contains('true') ? 'truefalse-option true' : 'truefalse-option false';
            });
            
            updateTrueFalseStats();
        }

        function updateTrueFalseStats() {
            document.getElementById('tfCurrentQuestion').textContent = tfCurrentQuestionIndex + 1;
            document.getElementById('tfCorrectAnswers').textContent = tfCorrectAnswers;
            document.getElementById('tfScore').textContent = tfScore;
        }

        // وظائف لعبة أسئلة السرعة
        function startBuzzGame() {
            buzzCurrentQuestionIndex = 0;
            buzzTeam1Score = 0;
            buzzTeam2Score = 0;
            buzzGameActive = true;
            buzzQuestionActive = false;
            buzzAnsweringTeam = null;
            buzzRound = 1;
            
            document.getElementById('buzzStartBtn').style.display = 'none';
            document.getElementById('buzzNextBtn').style.display = 'none';
            document.getElementById('buzzFeedback').style.display = 'none';
            document.getElementById('buzzAnswerSection').classList.remove('active');
            
            updateBuzzStats();
            updateBuzzScoreDisplay();
            showBuzzQuestion();
        }

        function showBuzzQuestion() {
            if (buzzCurrentQuestionIndex >= buzzQuestions.length) {
                endBuzzGame();
                return;
            }

            const question = buzzQuestions[buzzCurrentQuestionIndex];
            buzzQuestionActive = true;
            buzzAnsweringTeam = null;
            
            // إعادة تعيين حالة الفرق
            document.getElementById('buzzTeam1').classList.remove('active');
            document.getElementById('buzzTeam2').classList.remove('active');
            document.getElementById('buzzButton1').disabled = false;
            document.getElementById('buzzButton2').disabled = false;
            
            // إخفاء قسم الإجابة
            document.getElementById('buzzAnswerSection').classList.remove('active');
            document.getElementById('buzzFeedback').style.display = 'none';
            document.getElementById('buzzNextBtn').style.display = 'none';
            
            // عرض السؤال والحالة
            document.getElementById('buzzQuestionText').textContent = question.question;
            document.getElementById('buzzStatus').textContent = 'انتظار ضغط الجرس من إحدى المجموعتين...';
            document.getElementById('buzzStatus').className = 'buzz-status waiting';
            
            updateBuzzStats();
        }

        function buzzPressed(teamNumber) {
            if (!buzzGameActive || !buzzQuestionActive || buzzAnsweringTeam !== null) return;
            
            buzzQuestionActive = false;
            buzzAnsweringTeam = teamNumber;
            
            // تحديث مظهر الفريق الذي ضغط الجرس
            const teamElement = document.getElementById(`buzzTeam${teamNumber}`);
            const otherTeamElement = document.getElementById(`buzzTeam${teamNumber === 1 ? 2 : 1}`);
            const buttonElement = document.getElementById(`buzzButton${teamNumber}`);
            
            teamElement.classList.add('active');
            buttonElement.classList.add('pressed');
            
            // تعطيل الأزرار
            document.getElementById('buzzButton1').disabled = true;
            document.getElementById('buzzButton2').disabled = true;
            
            // تحديث الحالة
            const teamName = teamNumber === 1 ? 'المجموعة الأولى' : 'المجموعة الثانية';
            document.getElementById('buzzStatus').textContent = `${teamName} ضغطت الجرس أولاً!`;
            document.getElementById('buzzStatus').className = `buzz-status team${teamNumber}-buzzed`;
            
            // إظهار قسم الإجابة
            document.getElementById('answeringTeam').textContent = teamNumber;
            document.getElementById('buzzAnswerInput').value = '';
            document.getElementById('buzzAnswerSection').classList.add('active');
            
            // التركيز على حقل الإجابة
            setTimeout(() => {
                document.getElementById('buzzAnswerInput').focus();
            }, 500);
            
            // إزالة تأثير الضغط
            setTimeout(() => {
                buttonElement.classList.remove('pressed');
            }, 300);
        }

        function markAnswer(isCorrect) {
            if (!buzzGameActive || buzzAnsweringTeam === null) return;
            
            const feedback = document.getElementById('buzzFeedback');
            const teamName = buzzAnsweringTeam === 1 ? 'المجموعة الأولى' : 'المجموعة الثانية';
            const answer = document.getElementById('buzzAnswerInput').value.trim();
            
            if (isCorrect) {
                // إجابة صحيحة
                if (buzzAnsweringTeam === 1) {
                    buzzTeam1Score += 100;
                } else {
                    buzzTeam2Score += 100;
                }
                
                feedback.textContent = `🎉 إجابة صحيحة من ${teamName}! (+100 نقطة)`;
                feedback.className = 'buzz-feedback correct';
                
                // إظهار الإجابة النموذجية
                const sampleAnswer = buzzQuestions[buzzCurrentQuestionIndex].sampleAnswer;
                setTimeout(() => {
                    feedback.innerHTML = `
                        🎉 إجابة صحيحة من ${teamName}! (+100 نقطة)<br><br>
                        <strong>إجابة نموذجية:</strong><br>
                        ${sampleAnswer}
                    `;
                }, 1000);
                
            } else {
                // إجابة خاطئة
                feedback.textContent = `❌ إجابة خاطئة من ${teamName}! لا نقاط هذه المرة.`;
                feedback.className = 'buzz-feedback incorrect';
                
                // إظهار الإجابة النموذجية
                const sampleAnswer = buzzQuestions[buzzCurrentQuestionIndex].sampleAnswer;
                setTimeout(() => {
                    feedback.innerHTML = `
                        ❌ إجابة خاطئة من ${teamName}!<br><br>
                        <strong>الإجابة الصحيحة:</strong><br>
                        ${sampleAnswer}
                    `;
                }, 1000);
            }
            
            feedback.style.display = 'block';
            updateBuzzScoreDisplay();
            
            // إخفاء قسم الإجابة وإظهار زر التالي
            document.getElementById('buzzAnswerSection').classList.remove('active');
            
            setTimeout(() => {
                document.getElementById('buzzNextBtn').style.display = 'inline-block';
            }, 3000);
        }

        function nextBuzzQuestion() {
            buzzCurrentQuestionIndex++;
            
            if (buzzCurrentQuestionIndex < buzzQuestions.length) {
                showBuzzQuestion();
            } else {
                endBuzzGame();
            }
        }

        function endBuzzGame() {
            buzzGameActive = false;
            
            document.getElementById('buzzStartBtn').style.display = 'inline-block';
            document.getElementById('buzzNextBtn').style.display = 'none';
            document.getElementById('buzzAnswerSection').classList.remove('active');
            
            // تحديد الفائز
            let winnerMessage = '';
            if (buzzTeam1Score > buzzTeam2Score) {
                winnerMessage = '🏆 المجموعة الأولى هي البطلة! تهانينا!';
                document.getElementById('buzzTeam1').classList.add('active');
            } else if (buzzTeam2Score > buzzTeam1Score) {
                winnerMessage = '🏆 المجموعة الثانية هي البطلة! تهانينا!';
                document.getElementById('buzzTeam2').classList.add('active');
            } else {
                winnerMessage = '🤝 تعادل! كلا المجموعتين أبطال!';
                document.getElementById('buzzTeam1').classList.add('active');
                document.getElementById('buzzTeam2').classList.add('active');
            }
            
            document.getElementById('buzzQuestionText').textContent = `🏁 انتهت المسابقة! ${winnerMessage}`;
            document.getElementById('buzzStatus').textContent = `النتيجة النهائية: المجموعة الأولى ${buzzTeam1Score} - ${buzzTeam2Score} المجموعة الثانية`;
            document.getElementById('buzzStatus').className = 'buzz-status waiting';
            
            const feedback = document.getElementById('buzzFeedback');
            feedback.textContent = 'شكراً لكم على المشاركة الرائعة! 🎉';
            feedback.className = 'buzz-feedback info';
            feedback.style.display = 'block';
        }

        function resetBuzzGame() {
            buzzCurrentQuestionIndex = 0;
            buzzTeam1Score = 0;
            buzzTeam2Score = 0;
            buzzGameActive = false;
            buzzQuestionActive = false;
            buzzAnsweringTeam = null;
            buzzRound = 1;
            
            document.getElementById('buzzStartBtn').style.display = 'inline-block';
            document.getElementById('buzzNextBtn').style.display = 'none';
            document.getElementById('buzzFeedback').style.display = 'none';
            document.getElementById('buzzAnswerSection').classList.remove('active');
            
            document.getElementById('buzzQuestionText').textContent = 'استعدي للمنافسة الشيقة!';
            document.getElementById('buzzStatus').textContent = 'اضغطي "ابدأ المسابقة" لبدء التنافس!';
            document.getElementById('buzzStatus').className = 'buzz-status waiting';
            
            // إعادة تعيين حالة الفرق
            document.getElementById('buzzTeam1').classList.remove('active');
            document.getElementById('buzzTeam2').classList.remove('active');
            document.getElementById('buzzButton1').disabled = false;
            document.getElementById('buzzButton2').disabled = false;
            document.getElementById('buzzButton1').classList.remove('pressed');
            document.getElementById('buzzButton2').classList.remove('pressed');
            
            // مسح حقل الإجابة
            document.getElementById('buzzAnswerInput').value = '';
            
            updateBuzzStats();
            updateBuzzScoreDisplay();
        }

        function updateBuzzStats() {
            document.getElementById('buzzCurrentQuestion').textContent = buzzCurrentQuestionIndex + 1;
            document.getElementById('buzzTotalQuestions').textContent = buzzQuestions.length;
            document.getElementById('buzzRound').textContent = buzzRound;
        }

        function updateBuzzScoreDisplay() {
            document.getElementById('buzzTeam1Score').textContent = buzzTeam1Score;
            document.getElementById('buzzTeam2Score').textContent = buzzTeam2Score;
        }

        // بيانات ومتغيرات لعبة المطابقة
        const matchingPairs = [
            { term: 'التعلم التعزيزي', example: 'لعب الشطرنج بالذكاء الاصطناعي' },
            { term: 'NLP', example: 'الترجمة الفورية من Google Translate' },
            { term: 'محركات التوصية', example: 'اقتراح فيديو على YouTube' },
            { term: 'روبوتات المحادثة', example: 'خدمة عملاء وزارة الصحة 937' }
        ];

        // ترتيب الأمثلة في الواجهة (مختلط)
        const exampleDisplayOrder = [
            'اقتراح فيديو على YouTube',           // index 0 -> محركات التوصية (index 2)
            'خدمة عملاء وزارة الصحة 937',         // index 1 -> روبوتات المحادثة (index 3)
            'لعب الشطرنج بالذكاء الاصطناعي',       // index 2 -> التعلم التعزيزي (index 0)
            'الترجمة الفورية من Google Translate' // index 3 -> NLP (index 1)
        ];

        // متغيرات لعبة المطابقة
        let matchingGameActive = false;
        let selectedTerm = null;
        let selectedExample = null;
        let matchingMatches = [];
        let matchingCorrectCount = 0;
        let matchingScore = 0;
        let matchingAttempts = 0;

        // بيانات أسئلة اختيار من متعدد
        const quizSoloQuestions = [
            {
                question: "أي مما يلي يعد مثالاً على المساعد الذكي؟",
                answers: ["Chatbot خدمة العملاء", "Siri", "YouTube", "Microsoft Word"],
                correct: 1,
                explanation: "Siri هو مساعد ذكي يستخدم الذكاء الاصطناعي لفهم الأوامر الصوتية والاستجابة لها، بينما الخيارات الأخرى لا تعتبر مساعدات ذكية بالمعنى الحقيقي."
            },
            {
                question: "الشبكة العصبية في الذكاء الاصطناعي مستوحاة من:",
                answers: ["الجهاز الهضمي", "الجهاز العصبي", "الجهاز العضلي", "الجهاز التنفسي"],
                correct: 1,
                explanation: "الشبكات العصبية الاصطناعية مستوحاة من طريقة عمل الجهاز العصبي في الدماغ البشري، حيث تحاكي الخلايا العصبية وطريقة تواصلها."
            },
            {
                question: "أي نوع من تعلم الآلة يعتمد على بيانات مصنفة مسبقاً؟",
                answers: ["التعلم الموجه", "التعلم غير الموجه", "التعلم التعزيزي", "التعلم العميق"],
                correct: 0,
                explanation: "التعلم الموجه يستخدم بيانات مصنفة مسبقاً (labeled data) لتدريب النموذج على التنبؤ بالنتائج الصحيحة."
            },
            {
                question: "ما هو الهدف الأساسي من الشبكات العصبية الاصطناعية؟",
                answers: ["حفظ البيانات", "محاكاة عمل الدماغ البشري", "طباعة التقارير", "تصميم المواقع"],
                correct: 1,
                explanation: "الهدف الأساسي من الشبكات العصبية الاصطناعية هو محاكاة طريقة عمل الدماغ البشري في معالجة المعلومات والتعلم."
            },
            {
                question: "أي من التالي يُعتبر مثالاً على معالجة اللغة الطبيعية؟",
                answers: ["حل المعادلات الرياضية", "ترجمة النصوص", "رسم الخرائط", "قياس درجة الحرارة"],
                correct: 1,
                explanation: "ترجمة النصوص هي مثال واضح على معالجة اللغة الطبيعية (NLP) حيث يقوم الحاسوب بفهم وتحويل النص من لغة إلى أخرى."
            },
            {
                question: "ما فائدة استخدام الذكاء الاصطناعي في الطب؟",
                answers: ["تعقيد العلاج", "تشخيص الأمراض بدقة أكبر", "زيادة التكلفة", "إبطاء العملية"],
                correct: 1,
                explanation: "الذكاء الاصطناعي يساعد في تشخيص الأمراض بدقة أكبر من خلال تحليل الصور الطبية والبيانات الصحية بطريقة أكثر دقة وسرعة."
            },
            {
                question: "في أخلاقيات الذكاء الاصطناعي، ما الخطر المرتبط باستخدام بيانات غير دقيقة؟",
                answers: ["نتائج غير موثوقة", "توفير الوقت", "زيادة الدقة", "تقليل التكلفة"],
                correct: 0,
                explanation: "استخدام بيانات غير دقيقة يؤدي إلى نتائج غير موثوقة وقرارات خاطئة، مما يشكل خطراً أخلاقياً في تطبيقات الذكاء الاصطناعي."
            },
            {
                question: "أي من التالي يعتبر تطبيقاً للذكاء الاصطناعي في النقل؟",
                answers: ["السيارات التقليدية", "السيارات ذاتية القيادة", "إشارات المرور العادية", "الطرق الإسفلتية"],
                correct: 1,
                explanation: "السيارات ذاتية القيادة تستخدم الذكاء الاصطناعي لتحليل البيئة المحيطة واتخاذ قرارات القيادة بدون تدخل بشري."
            }
        ];

        // متغيرات لعبة الأسئلة الفردية
        let quizSoloCurrentIndex = 0;
        let quizSoloCorrectAnswers = 0;
        let quizSoloScore = 0;
        let quizSoloGameActive = false;
        let quizSoloQuestionAnswered = false;

        // وظائف لعبة المطابقة
        function startMatchingGame() {
            matchingGameActive = true;
            matchingMatches = [];
            matchingCorrectCount = 0;
            matchingScore = 0;
            matchingAttempts = 0;
            selectedTerm = null;
            selectedExample = null;
            
            document.getElementById('matchingStartBtn').style.display = 'none';
            document.getElementById('matchingCheckBtn').style.display = 'inline-block';
            document.getElementById('matchingFeedback').style.display = 'none';
            document.getElementById('matchingInstructions').textContent = 'اختاري مصطلحاً من اليسار ومثالاً من اليمين لربطهما معاً!';
            
            // إعادة تعيين جميع العناصر
            resetAllItems();
            updateMatchingStats();
        }

        function selectItem(type, index) {
            if (!matchingGameActive) return;
            
            const itemId = `${type}-${index}`;
            const item = document.getElementById(itemId);
            
            if (type === 'term') {
                // إلغاء تحديد المصطلح السابق
                if (selectedTerm !== null) {
                    document.getElementById(`term-${selectedTerm}`).classList.remove('selected');
                }
                
                // تحديد المصطلح الجديد
                selectedTerm = index;
                item.classList.add('selected');
                
            } else if (type === 'example') {
                // إلغاء تحديد المثال السابق
                if (selectedExample !== null) {
                    document.getElementById(`example-${selectedExample}`).classList.remove('selected');
                }
                
                // تحديد المثال الجديد
                selectedExample = index;
                item.classList.add('selected');
            }
            
            // إذا تم تحديد كلاً من المصطلح والمثال، قم بإنشاء المطابقة
            if (selectedTerm !== null && selectedExample !== null) {
                createMatch(selectedTerm, selectedExample);
            }
        }

        function createMatch(termIndex, exampleIndex) {
            // التحقق من عدم وجود مطابقة مسبقة لهذين العنصرين
            const existingMatch = matchingMatches.find(match => 
                match.term === termIndex || match.example === exampleIndex
            );
            
            if (existingMatch) {
                // إزالة المطابقة السابقة
                removeMatch(existingMatch);
            }
            
            // إنشاء مطابقة جديدة
            const match = { term: termIndex, example: exampleIndex };
            matchingMatches.push(match);
            
            // إظهار خط الربط
            const connectionLine = document.getElementById(`connection-${Math.min(termIndex, exampleIndex)}`);
            connectionLine.classList.add('active');
            
            // إعادة تعيين الاختيارات
            selectedTerm = null;
            selectedExample = null;
            
            // إزالة تمييز الاختيار
            document.querySelectorAll('.matching-item.selected').forEach(item => {
                item.classList.remove('selected');
            });
            
            updateMatchingStats();
        }

        function removeMatch(match) {
            // إزالة المطابقة من القائمة
            const index = matchingMatches.indexOf(match);
            if (index > -1) {
                matchingMatches.splice(index, 1);
            }
            
            // إخفاء خط الربط
            const connectionLine = document.getElementById(`connection-${Math.min(match.term, match.example)}`);
            connectionLine.classList.remove('active');
            
            // إزالة تمييز العناصر
            document.getElementById(`term-${match.term}`).classList.remove('correct', 'incorrect');
            document.getElementById(`example-${match.example}`).classList.remove('correct', 'incorrect');
        }

        function checkMatches() {
            if (!matchingGameActive || matchingMatches.length === 0) {
                document.getElementById('matchingFeedback').textContent = '⚠️ يجب إنشاء مطابقة واحدة على الأقل!';
                document.getElementById('matchingFeedback').className = 'matching-feedback partial';
                document.getElementById('matchingFeedback').style.display = 'block';
                return;
            }
            
            matchingAttempts++;
            let correctMatches = 0;
            let feedback = '';
            
            // التحقق من كل مطابقة
            matchingMatches.forEach(match => {
                const termText = matchingPairs[match.term].term;
                const selectedExampleText = exampleDisplayOrder[match.example];
                const correctExample = matchingPairs[match.term].example;
                
                const termElement = document.getElementById(`term-${match.term}`);
                const exampleElement = document.getElementById(`example-${match.example}`);
                
                if (selectedExampleText === correctExample) {
                    // مطابقة صحيحة
                    correctMatches++;
                    termElement.classList.add('correct');
                    exampleElement.classList.add('correct');
                } else {
                    // مطابقة خاطئة
                    termElement.classList.add('incorrect');
                    exampleElement.classList.add('incorrect');
                }
            });
            
            matchingCorrectCount = correctMatches;
            matchingScore = correctMatches * 100 - (matchingAttempts - 1) * 10;
            matchingScore = Math.max(matchingScore, 0);
            
            // تحديد نوع التغذية الراجعة
            const feedbackElement = document.getElementById('matchingFeedback');
            
            if (correctMatches === matchingPairs.length) {
                feedback = `🏆 ممتاز! جميع المطابقات صحيحة! حصلتِ على ${matchingScore} نقطة!`;
                feedbackElement.className = 'matching-feedback correct';
                
                // إنهاء اللعبة
                matchingGameActive = false;
                document.getElementById('matchingCheckBtn').style.display = 'none';
                document.getElementById('matchingStartBtn').style.display = 'inline-block';
                
            } else if (correctMatches > 0) {
                feedback = `👍 جيد! ${correctMatches} من ${matchingPairs.length} مطابقات صحيحة. حاولي تصحيح الباقي!`;
                feedbackElement.className = 'matching-feedback partial';
                
            } else {
                feedback = '❌ لا توجد مطابقات صحيحة. راجعي المصطلحات والأمثلة وحاولي مرة أخرى!';
                feedbackElement.className = 'matching-feedback incorrect';
            }
            
            feedbackElement.textContent = feedback;
            feedbackElement.style.display = 'block';
            
            updateMatchingStats();
            
            // إزالة التمييز بعد 3 ثوانٍ إذا لم تكن اللعبة منتهية
            if (matchingGameActive) {
                setTimeout(() => {
                    document.querySelectorAll('.matching-item').forEach(item => {
                        item.classList.remove('correct', 'incorrect');
                    });
                }, 3000);
            }
        }

        function clearSelections() {
            selectedTerm = null;
            selectedExample = null;
            
            // إزالة جميع التحديدات والمطابقات
            matchingMatches = [];
            
            // إعادة تعيين جميع العناصر
            resetAllItems();
            
            // إخفاء جميع خطوط الربط
            document.querySelectorAll('.connection-line').forEach(line => {
                line.classList.remove('active');
            });
            
            document.getElementById('matchingFeedback').style.display = 'none';
            updateMatchingStats();
        }

        function resetAllItems() {
            document.querySelectorAll('.matching-item').forEach(item => {
                item.className = 'matching-item';
            });
            
            document.querySelectorAll('.connection-line').forEach(line => {
                line.classList.remove('active');
            });
        }

        function resetMatchingGame() {
            matchingGameActive = false;
            selectedTerm = null;
            selectedExample = null;
            matchingMatches = [];
            matchingCorrectCount = 0;
            matchingScore = 0;
            matchingAttempts = 0;
            
            document.getElementById('matchingStartBtn').style.display = 'inline-block';
            document.getElementById('matchingCheckBtn').style.display = 'none';
            document.getElementById('matchingFeedback').style.display = 'none';
            document.getElementById('matchingInstructions').textContent = 'اضغطي على مصطلح من العمود الأيسر، ثم اضغطي على المثال المناسب من العمود الأيمن لربطهما معاً!';
            
            resetAllItems();
            updateMatchingStats();
        }

        function updateMatchingStats() {
            document.getElementById('matchingCorrect').textContent = matchingCorrectCount;
            document.getElementById('matchingTotal').textContent = matchingPairs.length;
            document.getElementById('matchingScore').textContent = matchingScore;
        }

        // وظائف لعبة الأسئلة الفردية
        function startQuizSoloGame() {
            quizSoloCurrentIndex = 0;
            quizSoloCorrectAnswers = 0;
            quizSoloScore = 0;
            quizSoloGameActive = true;
            quizSoloQuestionAnswered = false;
            
            document.getElementById('quizSoloStartBtn').style.display = 'none';
            document.getElementById('quizSoloNextBtn').style.display = 'none';
            document.getElementById('quizSoloFeedback').style.display = 'none';
            document.getElementById('quizSoloExplanation').style.display = 'none';
            
            updateQuizSoloStats();
            showQuizSoloQuestion();
        }

        function showQuizSoloQuestion() {
            if (quizSoloCurrentIndex >= quizSoloQuestions.length) {
                endQuizSoloGame();
                return;
            }

            const question = quizSoloQuestions[quizSoloCurrentIndex];
            quizSoloQuestionAnswered = false;
            
            // إعادة تعيين مظهر البطاقة
            document.getElementById('quizSoloQuestionCard').className = 'quiz-solo-question-card';
            document.getElementById('quizSoloExplanation').style.display = 'none';
            document.getElementById('quizSoloFeedback').style.display = 'none';
            document.getElementById('quizSoloNextBtn').style.display = 'none';
            
            // عرض السؤال
            document.getElementById('quizSoloQuestionText').textContent = question.question;
            
            // إنشاء الإجابات
            const answersContainer = document.getElementById('quizSoloAnswers');
            answersContainer.style.display = 'grid';
            answersContainer.innerHTML = '';
            
            const letters = ['أ', 'ب', 'ج', 'د'];
            
            question.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.className = 'quiz-solo-answer';
                button.onclick = () => selectQuizSoloAnswer(index);
                
                button.innerHTML = `
                    <div class="quiz-solo-answer-letter">${letters[index]}</div>
                    ${answer}
                `;
                
                answersContainer.appendChild(button);
            });
            
            updateQuizSoloStats();
            updateQuizSoloProgress();
        }

        function selectQuizSoloAnswer(selectedIndex) {
            if (!quizSoloGameActive || quizSoloQuestionAnswered) return;
            
            quizSoloQuestionAnswered = true;
            const question = quizSoloQuestions[quizSoloCurrentIndex];
            const isCorrect = selectedIndex === question.correct;
            
            const buttons = document.querySelectorAll('.quiz-solo-answer');
            const feedback = document.getElementById('quizSoloFeedback');
            const explanation = document.getElementById('quizSoloExplanation');
            const questionCard = document.getElementById('quizSoloQuestionCard');
            
            // تعطيل جميع الأزرار وتحديد المظهر
            buttons.forEach((btn, index) => {
                btn.disabled = true;
                
                if (index === question.correct) {
                    btn.classList.add('correct-answer');
                } else if (index === selectedIndex && !isCorrect) {
                    btn.classList.add('selected-incorrect');
                } else if (index !== question.correct) {
                    btn.classList.add('not-selected');
                }
                
                if (index === selectedIndex && isCorrect) {
                    btn.classList.add('selected-correct');
                }
            });
            
            // تحديث النقاط والإحصائيات
            if (isCorrect) {
                quizSoloCorrectAnswers++;
                quizSoloScore += 100;
                
                feedback.textContent = '🎉 إجابة صحيحة! أحسنتِ!';
                feedback.className = 'quiz-solo-feedback correct';
                
                questionCard.classList.add('correct');
                explanation.className = 'quiz-solo-explanation correct';
            } else {
                feedback.textContent = '❌ إجابة خاطئة! لا بأس، تعلمي من الخطأ.';
                feedback.className = 'quiz-solo-feedback incorrect';
                
                questionCard.classList.add('incorrect');
                explanation.className = 'quiz-solo-explanation incorrect';
            }
            
            // إظهار التفسير والتغذية الراجعة
            explanation.textContent = question.explanation;
            explanation.style.display = 'block';
            feedback.style.display = 'block';
            
            updateQuizSoloStats();
            updateQuizSoloProgress();
            
            // إظهار زر السؤال التالي
            setTimeout(() => {
                document.getElementById('quizSoloNextBtn').style.display = 'inline-block';
            }, 2000);
        }

        function nextQuizSoloQuestion() {
            quizSoloCurrentIndex++;
            
            if (quizSoloCurrentIndex < quizSoloQuestions.length) {
                showQuizSoloQuestion();
            } else {
                endQuizSoloGame();
            }
        }

        function endQuizSoloGame() {
            quizSoloGameActive = false;
            
            document.getElementById('quizSoloStartBtn').style.display = 'inline-block';
            document.getElementById('quizSoloNextBtn').style.display = 'none';
            document.getElementById('quizSoloAnswers').style.display = 'none';
            document.getElementById('quizSoloExplanation').style.display = 'none';
            
            const percentage = (quizSoloCorrectAnswers / quizSoloQuestions.length) * 100;
            let message = '';
            let emoji = '';
            
            if (percentage === 100) {
                message = 'مذهل! إجابات صحيحة 100%! أنتِ خبيرة في الذكاء الاصطناعي!';
                emoji = '🏆';
            } else if (percentage >= 80) {
                message = 'ممتاز! معرفتك قوية جداً!';
                emoji = '🌟';
            } else if (percentage >= 60) {
                message = 'جيد جداً! تحتاجين لمراجعة بعض المفاهيم.';
                emoji = '👍';
            } else if (percentage >= 40) {
                message = 'لا بأس! اقرئي أكثر عن الذكاء الاصطناعي.';
                emoji = '📚';
            } else {
                message = 'لا تيأسي! المهم التعلم، جربي مرة أخرى!';
                emoji = '💪';
            }
            
            document.getElementById('quizSoloQuestionText').textContent = `${emoji} انتهى الاختبار! أجبتِ على ${quizSoloCorrectAnswers} من ${quizSoloQuestions.length} أسئلة بشكل صحيح. ${message}`;
            
            const feedback = document.getElementById('quizSoloFeedback');
            feedback.textContent = `النتيجة النهائية: ${quizSoloScore} نقطة (${percentage.toFixed(0)}%)`;
            feedback.className = percentage >= 60 ? 'quiz-solo-feedback correct' : 'quiz-solo-feedback incorrect';
            feedback.style.display = 'block';
            
            document.getElementById('quizSoloQuestionCard').className = 'quiz-solo-question-card';
        }

        function resetQuizSoloGame() {
            quizSoloCurrentIndex = 0;
            quizSoloCorrectAnswers = 0;
            quizSoloScore = 0;
            quizSoloGameActive = false;
            quizSoloQuestionAnswered = false;
            
            document.getElementById('quizSoloStartBtn').style.display = 'inline-block';
            document.getElementById('quizSoloNextBtn').style.display = 'none';
            document.getElementById('quizSoloAnswers').style.display = 'none';
            document.getElementById('quizSoloExplanation').style.display = 'none';
            document.getElementById('quizSoloFeedback').style.display = 'none';
            
            document.getElementById('quizSoloQuestionText').textContent = 'اضغطي "ابدأ الاختبار" لبدء التحدي!';
            document.getElementById('quizSoloQuestionCard').className = 'quiz-solo-question-card';
            
            updateQuizSoloStats();
            updateQuizSoloProgress();
        }

        function updateQuizSoloStats() {
            document.getElementById('quizSoloCurrentQuestion').textContent = quizSoloCurrentIndex + 1;
            document.getElementById('quizSoloCorrectAnswers').textContent = quizSoloCorrectAnswers;
            document.getElementById('quizSoloScore').textContent = quizSoloScore;
        }

        function updateQuizSoloProgress() {
            const progress = ((quizSoloCurrentIndex + 1) / quizSoloQuestions.length) * 100;
            document.getElementById('quizSoloProgressFill').style.width = progress + '%';
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9acbf6f81632cdf4',t:'MTc2NTUyOTMyOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
